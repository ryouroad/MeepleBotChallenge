(function(){"use strict";var e={9020:function(e,t,a){var l=a(641),o=a(3751),r=a(33);const s=e=>((0,l.Qi)("data-v-0969280d"),e=e(),(0,l.jt)(),e),n={id:"contact"},i=s((()=>(0,l.Lk)("p",null,[(0,l.eW)("このサイトは基本的にAIの力を借りたうえで、適宜修正を加えて作成しております。"),(0,l.Lk)("br"),(0,l.eW)("内容には十分ご注意ください。")],-1))),u=s((()=>(0,l.Lk)("p",null,[(0,l.eW)("ボードゲームにAI技術を活用して面白いことができないか"),(0,l.Lk)("br"),(0,l.eW)("という思いから2024年3月20日に筆者はこのサイトを立ち上げました。")],-1))),c=s((()=>(0,l.Lk)("p",null,"面白いと思った方はなんでもいいのでメッセージいただけるとありがたいです。",-1))),d=["href"],v=s((()=>(0,l.Lk)("p",null,"管理者のXアカウントです。お気軽にフォローいただけると嬉しいです。",-1))),m=s((()=>(0,l.Lk)("p",null,"© 2024 ミープルボットの挑戦. All rights reserved.",-1)));function p(e,t,a,o,s,p){const g=(0,l.g2)("v-app-bar-nav-icon"),f=(0,l.g2)("v-toolbar-title"),h=(0,l.g2)("v-spacer"),b=(0,l.g2)("v-btn"),k=(0,l.g2)("v-app-bar"),_=(0,l.g2)("v-list-item-title"),y=(0,l.g2)("v-list-item"),F=(0,l.g2)("v-expansion-panel-title"),W=(0,l.g2)("router-link"),w=(0,l.g2)("v-expansion-panel-text"),x=(0,l.g2)("v-expansion-panel"),P=(0,l.g2)("v-expansion-panels"),C=(0,l.g2)("v-list"),M=(0,l.g2)("v-navigation-drawer"),E=(0,l.g2)("v-alert"),S=(0,l.g2)("router-view"),I=(0,l.g2)("v-card-title"),X=(0,l.g2)("v-card-text"),A=(0,l.g2)("v-card"),L=(0,l.g2)("v-container"),T=(0,l.g2)("v-main"),B=(0,l.g2)("v-col"),G=(0,l.g2)("v-footer"),V=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(V,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,{app:"",color:"primary",dark:""},{default:(0,l.k6)((()=>[o.isLargeScreen?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(g,{key:0,onClick:t[0]||(t[0]=e=>o.drawer=!o.drawer)})),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットの挑戦")])),_:1}),(0,l.bF)(h),(0,l.bF)(b,{text:"",href:o.twitterUrl},{default:(0,l.k6)((()=>[(0,l.eW)("管理者Xアカウント")])),_:1},8,["href"])])),_:1}),(0,l.bF)(M,{modelValue:o.drawer,"onUpdate:modelValue":t[2]||(t[2]=e=>o.drawer=e),permanent:o.isLargeScreen,app:""},{default:(0,l.k6)((()=>[(0,l.bF)(C,{dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(y,{link:"",href:`${o.baseUrl}`},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("ホーム")])),_:1})])),_:1},8,["href"]),o.getUserName?((0,l.uX)(),(0,l.Wv)(y,{key:1,onClick:o.removeToken,link:"",href:`${o.logoutUrl}`,target:"_blank"},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("ログアウト")])),_:1})])),_:1},8,["onClick","href"])):((0,l.uX)(),(0,l.Wv)(y,{key:0,link:"",href:`${o.loginUrl}`},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("ログイン")])),_:1})])),_:1},8,["href"])),(0,l.bF)(y,{link:"",onClick:t[1]||(t[1]=e=>o.scrollToId("contact"))},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("お問い合わせ")])),_:1})])),_:1}),(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(x,null,{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("ボードゲームAI")])),_:1})])),_:1}),(0,l.bF)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{to:"/reversi",style:{"text-decoration":"none",color:"inherit"}},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("リバーシ")])),_:1})])),_:1})])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{to:"/chess",style:{"text-decoration":"none",color:"inherit"}},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("チェス")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(x,null,{default:(0,l.k6)((()=>[(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("オリジナル対人ゲーム")])),_:1})])),_:1}),(0,l.bF)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(W,{to:"/buildersTactics",style:{"text-decoration":"none",color:"inherit"}},{default:(0,l.k6)((()=>[(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.eW)("Builders Tactics(開発中)")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue","permanent"]),(0,l.bF)(T,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[o.getUserName?((0,l.uX)(),(0,l.Wv)(E,{key:0,type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)(" ようこそ"+(0,r.v_)(o.getUserName)+"さん！一緒に楽しみましょう！ ",1),o.notificationPermission?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(b,{key:0,onClick:o.allowWebPush},{default:(0,l.k6)((()=>[(0,l.eW)("ゲームで自分のターンを知らせるPush通知を受け取る")])),_:1},8,["onClick"]))])),_:1})):((0,l.uX)(),(0,l.Wv)(E,{key:1,type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)(" ようこそ！ログインして新ゲームの先行プレイやオリジナルゲームを一緒に楽しみましょう！ ")])),_:1})),(0,l.bF)(S,{name:"Main"}),(0,l.Lk)("section",n,[(0,l.bF)(A,null,{default:(0,l.k6)((()=>[(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.eW)("注意")])),_:1}),(0,l.bF)(X,null,{default:(0,l.k6)((()=>[i])),_:1}),(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.eW)("目的・考え")])),_:1}),(0,l.bF)(X,null,{default:(0,l.k6)((()=>[u,c])),_:1}),(0,l.bF)(I,null,{default:(0,l.k6)((()=>[(0,l.eW)("お問い合わせ")])),_:1}),(0,l.bF)(X,null,{default:(0,l.k6)((()=>[(0,l.Lk)("p",null,[(0,l.eW)("ご質問やコメントがありましたら、お気軽に"),(0,l.Lk)("a",{href:o.twitterUrl},"こちら",8,d),(0,l.eW)("までお知らせください。")]),v])),_:1})])),_:1})])])),_:1})])),_:1}),(0,l.bF)(G,null,{default:(0,l.k6)((()=>[(0,l.bF)(B,{class:"text-center"},{default:(0,l.k6)((()=>[m])),_:1})])),_:1})])),_:1})])),_:1})}a(4114),a(6573),a(8100),a(7936),a(7467),a(4732),a(9577),a(4979),a(4603),a(7566),a(8721);var g=a(6278),f=a(953),h=a(1250),b=a(9447);const k="60fcq09h41civh11kr2tcbu0j5",_="https://prd-meeplebotchallenge.auth.ap-northeast-1.amazoncognito.com",y="https://twitter.com/Rnishimu_",F="https://ryouroad.github.io/MeepleBotChallenge/",W="BD3fhRH4t517wjGte98VwPprM8cvP3Utn4MKra49-s-g1SlF1jcxXbNoaQmabRrDbG4pexkAB6xj6fCXTYZlPvY",w="https://spb4jent01.execute-api.ap-northeast-1.amazonaws.com/prod/",x="BVcRsXqr2v9s3EWTkuBRg5GlmoGGW4bZ8ABef34S";var P={name:"App",setup(){const e=(0,g.Pj)(),t=(0,f.KR)(!0),a=(0,l.EW)((()=>e.getters["authStore/getName"])),o=(0,l.EW)((()=>e.getters["authStore/getRefreshToken"])),r=(0,l.EW)((()=>e.getters["authStore/getIdToken"])),s="/MeepleBotChallenge/",n=`${_}/oauth2/authorize?response_type=code&client_id=${k}&redirect_uri=${F}`,i=`${_}/logout?response_type=code&client_id=${k}&redirect_uri=${F}`,u=y,{mdAndUp:c}=(0,b._F)(),d=(0,l.EW)((()=>c.value)),v=(0,l.EW)((()=>"Notification"in window&&"granted"===Notification.permission)),m=e=>{const t=document.getElementById(e);t?t.scrollIntoView({behavior:"smooth"}):this.$router.push("/")},p=()=>{const e=new URLSearchParams(window.location.search),t=e.get("code"),a=o.value;t&&P(t),null==a||t||C(a)},P=async t=>{try{const a=await h.A.post(`${_}/oauth2/token`,new URLSearchParams({grant_type:"authorization_code",code:t,redirect_uri:F,client_id:k}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e.dispatch("authStore/saveToken",a.data)}catch(a){console.error("Error fetching token:",a)}},C=async t=>{try{const a=await h.A.post(`${_}/oauth2/token`,new URLSearchParams({grant_type:"refresh_token",refresh_token:t,client_id:k}),{headers:{"Content-Type":"application/x-www-form-urlencoded"}});e.dispatch("authStore/saveToken",a.data)}catch(a){console.error("Error fetching token:",a),e.dispatch("authStore/removeToken")}},M=()=>{e.dispatch("authStore/removeToken")};async function E(){if("Notification"in window){let e=Notification.permission;if("denied"===e)return alert("Push通知が拒否されているようです。ブラウザの設定からPush通知を有効化してください"),!1;if("granted"===e)return alert("すでにWebPushを許可済みです"),!1}try{const e=S(W),t=await window.sw.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}),a=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("p256dh")))),l=btoa(String.fromCharCode.apply(null,new Uint8Array(t.getKey("auth"))));await h.A.post(`${w}push/setting`,{endpoint:t.endpoint,userPublicKey:a,userAuthToken:l},{headers:{"x-api-key":x,Authorization:r.value}}),alert("Push通知機能が登録完了しました。")}catch(e){alert("Push通知機能が拒否されたか、エラーが発生しましたので、Push通知は送信されません。")}}function S(e){const t="=".repeat((4-e.length%4)%4),a=(e+t).replace(/-/g,"+").replace(/_/g,"/"),l=window.atob(a),o=new Uint8Array(l.length);for(let r=0;r<l.length;++r)o[r]=l.charCodeAt(r);return o}return self.addEventListener("load",(async()=>{"serviceWorker"in navigator&&(window.sw=await navigator.serviceWorker.register("@/service-worker.js",{scope:"/"}))})),(0,l.sV)((()=>{document.title="ミープルボットの挑戦",p()})),{drawer:t,isLargeScreen:d,getUserName:a,baseUrl:s,loginUrl:n,logoutUrl:i,twitterUrl:u,scrollToId:m,removeToken:M,notificationPermission:v,allowWebPush:E}}},C=a(6262);const M=(0,C.A)(P,[["render",p],["__scopeId","data-v-0969280d"]]);var E=M;const S={namespaced:!0,state:{articles:[{id:"1",title:"GPT技術を核とするミープルボット：ボードゲームAIの革命",imageUrl:a(4058),tags:["AI×ボードゲーム（全記事表示）","GPT","自然言語処理","ミープルボット"],content:`\n          <p>ミープルボットは、GPT技術をメインロジックとして採用し、GPTs上で動作することで、ボードゲームAIの開発において前例のない進化を遂げています。この先進的なAIは、深層学習と自然言語処理の能力を組み合わせることで、ボードゲームの戦略とルールを理解し、人間のプレイヤーに対して未知の挑戦を提供することが可能になりました。</p>\n          <p>ミープルボットがGPT技術を使用することの最大の利点の一つは、複雑な戦略ゲームのダイナミクスをリアルタイムで解析し、瞬時に適応する能力です。このAIは、ゲームの進行に応じて数千もの異なるシナリオをシミュレーションし、最適な戦略を導き出すことができます。</p>\n          <img src="${a(1789)}" alt="ミープルボットの戦略分析">\n          <p>さらに、ミープルボットはGPTsの強力な自然言語処理機能を利用して、プレイヤーとの対話を通じてゲームの指示やフィードバックを提供することができます。これにより、プレイヤーはゲーム戦略の理解を深め、スキルを向上させることが可能になります。</p>\n          <p>ミープルボットの開発と導入は、ボードゲーム業界においてAIの役割を再定義し、ゲームデザインとプレイヤー体験の未来を形作っています。GPT技術を核とするこのAIの進化は、ボードゲームだけでなく、教育やエンターテインメントの分野における人間とAIのインタラクションにおいても新たな可能性を開いています。</p>\n        `},{id:"2",title:"ボードゲームとAIの画期的な研究事例",imageUrl:a(5719),tags:["AI×ボードゲーム（全記事表示）"],content:`\n          <h2>DeepMindのAlphaGo</h2>\n          <p>GoogleのDeepMindが開発したAI、AlphaGoは、囲碁の世界チャンピオンである李世乭九段を破りました。AlphaGoは深層学習とモンテカルロ木探索を組み合わせたアルゴリズムを使用しています。これは、ボードゲームのAI研究における重要な進歩であり、AIが人間の直感と戦略を超えることができることを示しています。</p>\n          <img src="${a(5732)}" alt="AlphaGoの勝利">\n      \n          <h2>IBMのDeep Blue</h2>\n          <p>1997年、IBMのDeep Blueはチェスの世界チャンピオンであるガリー・カスパロフを破りました。Deep Blueは専門的なハードウェアと高度に最適化されたアルゴリズムを使用しており、その時点で最も強力なチェスプレーヤーとなりました。</p>\n          <img src="${a(96)}" alt="Deep Blueの勝利">\n      \n          <h2>OpenAIのDota 2 AI</h2>\n          <p>OpenAI Fiveは、人間のプロチームと競争できるレベルのDota 2のAIを開発しました。Dota 2は非常に複雑なマルチプレイヤーオンラインバトルアリーナゲームであり、その成功はAIが複雑なタスクを処理できることを示しています。</p>\n          <img src="${a(5702)}" alt="OpenAI Fiveの試合">\n      \n          <p>これらの事例は、AIがボードゲームの戦略と直感を学び、人間のプレーヤーを超えることができることを示しています。これらのAIは、ゲームのルールを理解し、複数の手を前もって計画し、それぞれの手の結果を予測する能力を持っています。これらの能力は、ボードゲームだけでなく、他の多くの問題解決の状況でも適用可能です。</p>\n        `},{id:"3",title:"ボドゲAIの革新：モンテカルロツリーサーチと強化学習",imageUrl:a(3120),tags:["AI×ボードゲーム（全記事表示）"],content:"\n          <p>モンテカルロツリーサーチ (MCTS) と強化学習は、AIがボードゲームの複雑な局面をどう攻略するかの鍵を握っています。これらの技術により、AIはランダムな手を試しながら最適な戦略を導き出す能力を持ちます。</p>\n          <p>特に囲碁や将棋のようなゲームでは、これらの技術の組み合わせによって、人間のプレイヤーさえも予期せぬ戦略を編み出しています。AIの学習プロセスは、複数の局面をシミュレートし、それぞれの結果を評価することから始まります。この評価は、勝利の可能性が高い手や、長期的に見て有利なポジションを見極めるのに役立ちます。</p>\n          <p>モンテカルロツリーサーチは、特に不確定要素が多く、可能な手の数が膨大なゲームでその真価を発揮します。ランダムな手法に基づくこのアプローチは、従来のアルゴリズムでは計算しきれないほどの複雑なゲームでも、最適な手を見つけ出すことが可能です。</p>\n          <p>強化学習は、エージェントが「試行錯誤」を通じて学習を進めるプロセスです。成功には報酬が与えられ、エージェントは報酬を最大化する行動を学びます。これにより、AIは未知のゲームや状況でも自ら最適な戦略を編み出すことができるようになります。</p>\n          <p>これらの技術の組み合わせによって、AIはただのプログラムを超えた「学習するエンティティ」となり、ボードゲームのみならず、リアルタイムで戦略を練る必要がある様々な分野での応用が期待されています。将来的には、これらのAI技術が、経済や医療、物流など、さらに幅広い分野での意思決定を支援する日も来るかもしれません。</p>\n        "}]},getters:{getArticleById:e=>t=>{const a=e.articles.find((e=>e.id===t));return a||null}}},I="BVcRsXqr2v9s3EWTkuBRg5GlmoGGW4bZ8ABef34S",X="https://spb4jent01.execute-api.ap-northeast-1.amazonaws.com/prod/",A=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];function L(e,t,a,l){let o=!1;for(const[r,s]of A){let n=t+r,i=a+s;const u=[];while(n>=0&&n<8&&i>=0&&i<8&&e[i][n]===("black"===l?"white":"black"))u.push([n,i]),n+=r,i+=s;if(n>=0&&n<8&&i>=0&&i<8&&e[i][n]===l)for(const[t,a]of u)e[a][t]=l,o=!0}return o}function T(e,t,a,l){if(null!==e[a][t])return!1;const o=JSON.parse(JSON.stringify(e));return o[a][t]=l,!!L(o,t,a,l)}function B(e,t){for(let a=0;a<8;a++)for(let l=0;l<8;l++)if(null===e[a][l]&&T(e,l,a,t))return!0;return!1}function G(e,t){const a=[];for(let l=0;l<8;l++)for(let o=0;o<8;o++)null===e[l][o]&&T(e,o,l,t)&&a.push({x:o,y:l});return a}const V={namespaced:!0,state:{game:{board:Array(8).fill().map(((e,t)=>Array(8).fill().map(((e,a)=>3===t&&3===a||4===t&&4===a?"white":3===t&&4===a||4===t&&3===a?"black":null)))),currentPlayer:"black"},chat:{messages:[],threadId:null},isNextMoveLoading:!1,isChatLoading:!1},mutations:{setGame(e){const t={board:Array(8).fill().map(((e,t)=>Array(8).fill().map(((e,a)=>3===t&&3===a||4===t&&4===a?"white":3===t&&4===a||4===t&&3===a?"black":null)))),currentPlayer:"black"};e.game=t;const a={messages:[],threadId:null};e.chat=a,e.isNextMoveLoading=!1,e.isChatLoading=!1},addMessage(e,t){e.chat.messages.push(t)},setBoard(e,{x:t,y:a,color:l}){e.game.board[a][t]=l},switchPlayer(e){e.game.currentPlayer="black"===e.game.currentPlayer?"white":"black"},setWinner(e,t){e.game.winner=t},setGameOver(e,t){e.game.isGameOver=t},setIsNextMoveLoading(e,t){e.isNextMoveLoading=t},setIsChatLoading(e,t){e.isChatLoading=t},setThreadId(e,t){e.chat.threadId=t}},actions:{async sendMessage({commit:e,state:t},a){e("setIsChatLoading",!0),e("addMessage",{text:a,sender:"user"});const l=G(t.game.board,t.game.currentPlayer);try{const r=await h.A.post(X+"reversi/chat",{board:t.game.board,currentPlayer:t.game.currentPlayer,validMoves:l,question:a},{headers:{"x-api-key":I,"x-thread-id":t.chat.threadId}});if(200===r.status){var o=await h.A.get(X+"reversi/chat",{headers:{"x-api-key":I,"x-thread-id":r.data.threadId,"x-run-id":r.data.runId}});while(200!=o.status)o=await h.A.get(X+"reversi/chat",{headers:{"x-api-key":I,"x-thread-id":r.data.threadId,"x-run-id":r.data.runId}})}e("setThreadId",o.data.threadId),e("addMessage",{text:o.data.text,sender:"ai"})}catch(r){console.error("Error fetching chat:",r)}e("setIsChatLoading",!1)},handleMove({commit:e,state:t,dispatch:a},{x:l,y:o}){const r=t.game.currentPlayer;T(t.game.board,l,o,r)?(e("setBoard",{x:l,y:o,color:r}),L(t.game.board,l,o,r)?(e("switchPlayer"),B(t.game.board,t.game.currentPlayer)||(e("switchPlayer"),B(t.game.board,t.game.currentPlayer)||a("endGame"))):console.error("No discs flipped")):console.error("Invalid move")},endGame({state:e,commit:t}){let a=0,l=0;e.game.board.forEach((e=>{e.forEach((e=>{"black"===e&&a++,"white"===e&&l++}))}));let o=null;a>l?o="black":l>a&&(o="white"),t("setWinner",o),t("setGameOver",!0)},async getNextMove({commit:e,state:t,dispatch:a}){const l=G(t.game.board,t.game.currentPlayer);if(0!==l.length||(e("switchPlayer"),B(t.game.board,t.game.currentPlayer))){e("setIsNextMoveLoading",!0);try{const a=await h.A.post(X+"reversi/move",{board:t.game.board,currentPlayer:t.game.currentPlayer,validMoves:l},{headers:{"x-api-key":I}});if(200===a.status){var o=await h.A.get(X+"reversi/move",{headers:{"x-api-key":I,"x-thread-id":a.data.threadId,"x-run-id":a.data.runId}});while(200!=o.status)o=await h.A.get(X+"reversi/move",{headers:{"x-api-key":I,"x-thread-id":a.data.threadId,"x-run-id":a.data.runId}})}const{x:r,y:s}=o.data;"number"===typeof r&&"number"===typeof s&&-1!=r&&-1!=s?(e("setBoard",{x:r,y:s,color:t.game.currentPlayer}),L(t.game.board,r,s,t.game.currentPlayer),e("switchPlayer")):console.error("Invalid move received from backend")}catch(r){console.error("Error fetching next move:",r)}e("setIsNextMoveLoading",!1)}else a("endGame")},resetGame({commit:e}){e("setGame")}}},j="BVcRsXqr2v9s3EWTkuBRg5GlmoGGW4bZ8ABef34S",U="https://spb4jent01.execute-api.ap-northeast-1.amazonaws.com/prod/";function N(e,t){for(let a=0;a<8;a++)for(let l=0;l<8;l++){const o=e[a][l];if("King"===o.type&&o.color===t)return{x:l,y:a}}return null}function K(e,t,a){const l=N(e,t);if(!l)return!1;const o="White"===t?"Black":"White";for(let r=0;r<8;r++)for(let t=0;t<8;t++){const s=e[r][t];if(s.color===o){const n=$(e,o,a,s,{x:t,y:r});for(const e of n)if(e.x===l.x&&e.y===l.y)return!0}}return!1}function $(e,t,a,l,o){let r=[];if(l.color===t){if("Pawn"===l.type){const{x:t,y:s}=o,n="White"===l.color?-1:1;if(null===e[s+n]?.[t].type){r.push({x:t,y:s+n});const a="White"===l.color?6:1;s===a&&null===e[s+2*n]?.[t].type&&r.push({x:t,y:s+2*n})}[-1,1].forEach((a=>{e[s+n]?.[t+a]?.color&&e[s+n][t+a].color!==l.color&&r.push({x:t+a,y:s+n})}));const i=a;if(null!==i&&"Pawn"===i.piece.type&&2===Math.abs(i.from.y-i.to.y)&&1===Math.abs(i.to.x-t)&&i.to.y===s){const e="White"===l.color?-1:1;r.push({x:i.to.x,y:i.to.y+e})}}if("Rook"===l.type|"Queen"===l.type){const{x:t,y:a}=o;for(let o=-1;o<=1;o+=2){let s=t+o;while(s>=0&&s<8&&null===e[a][s].color)r.push({x:s,y:a}),s+=o;s>=0&&s<8&&e[a][s].color!==l.color&&r.push({x:s,y:a})}for(let o=-1;o<=1;o+=2){let s=a+o;while(s>=0&&s<8&&null===e[s][t].color)r.push({x:t,y:s}),s+=o;s>=0&&s<8&&e[s][t].color!==l.color&&r.push({x:t,y:s})}}if("Knight"===l.type){const{x:t,y:a}=o,s=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]];s.forEach((([o,s])=>{const n=t+o,i=a+s;n>=0&&n<8&&i>=0&&i<8&&(null===e[i][n]||e[i][n].color!==l.color)&&r.push({x:n,y:i})}))}if("Bishop"===l.type||"Queen"===l.type){const{x:t,y:a}=o,s=[{dx:1,dy:-1},{dx:1,dy:1},{dx:-1,dy:-1},{dx:-1,dy:1}];s.forEach((({dx:o,dy:s})=>{let n=t,i=a;const u=!0;while(u){if(n+=o,i+=s,n<0||n>=8||i<0||i>=8)break;if(null!==e[i][n].color){e[i][n].color!==l.color&&r.push({x:n,y:i});break}r.push({x:n,y:i})}}))}if("King"===l.type){const{x:t,y:a}=o,s=[[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1],[0,-1],[1,-1]];if(s.forEach((([o,s])=>{const n=t+o,i=a+s;n>=0&&n<8&&i>=0&&i<8&&(null===e[i][n]||e[i][n].color!==l.color)&&r.push({x:n,y:i})})),!e[a][t].hasMoved){const o=[0,7];o.forEach((o=>{const s=e[a][o];if(s&&!s.hasMoved&&"Rook"===s.type&&s.color===l.color){const l=0===o?-1:1;let s=!0;for(let r=t+l;r!==o;r+=l)if(null!==e[a][r].type){s=!1;break}s&&r.push({x:t+2*l,y:a})}}))}}}return r}function R(e,t,a){const l=JSON.parse(JSON.stringify(e)),o=l[t.y][t.x];if("King"===o.type&&2===Math.abs(t.x-a.x)){const e=6===a.x?7:0,o=6===a.x?5:3,r=l[t.y][e];l[t.y][o]=r,l[t.y][o].hasMoved=!0,l[t.y][e]={type:null,color:null,isPossibleMove:!1,hasMoved:!1}}return l[a.y][a.x]=o,l[t.y][t.x]={type:null,color:null,isPossibleMove:!1,hasMoved:!1},l}const Q={namespaced:!0,state:{game:{board:Array(8).fill().map(((e,t)=>Array(8).fill().map(((e,a)=>0===t&0===a|0===t&7===a?{type:"Rook",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&1===a|0===t&6===a?{type:"Knight",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&2===a|0===t&5===a?{type:"Bishop",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&3===a?{type:"Queen",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&4===a?{type:"King",color:"Black",isPossibleMove:!1,hasMoved:!1}:1===t?{type:"Pawn",color:"Black",isPossibleMove:!1,hasMoved:!1}:6===t?{type:"Pawn",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&0===a|7===t&7===a?{type:"Rook",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&1===a|7===t&6===a?{type:"Knight",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&2===a|7===t&5===a?{type:"Bishop",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&3===a?{type:"Queen",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&4===a?{type:"King",color:"White",isPossibleMove:!1,hasMoved:!1}:{type:null,color:null,isPossibleMove:!1,hasMoved:!1})))),currentPlayer:"White",from:null,possibleMoves:null,showPromotionDialog:!1,promotionPosition:null,lastMove:null},chat:{messages:[],threadId:null},isNextMoveLoading:!1,isChatLoading:!1},mutations:{setGame(e){const t={board:Array(8).fill().map(((e,t)=>Array(8).fill().map(((e,a)=>0===t&0===a|0===t&7===a?{type:"Rook",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&1===a|0===t&6===a?{type:"Knight",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&2===a|0===t&5===a?{type:"Bishop",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&3===a?{type:"Queen",color:"Black",isPossibleMove:!1,hasMoved:!1}:0===t&4===a?{type:"King",color:"Black",isPossibleMove:!1,hasMoved:!1}:1===t?{type:"Pawn",color:"Black",isPossibleMove:!1,hasMoved:!1}:6===t?{type:"Pawn",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&0===a|7===t&7===a?{type:"Rook",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&1===a|7===t&6===a?{type:"Knight",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&2===a|7===t&5===a?{type:"Bishop",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&3===a?{type:"Queen",color:"White",isPossibleMove:!1,hasMoved:!1}:7===t&4===a?{type:"King",color:"White",isPossibleMove:!1,hasMoved:!1}:{type:null,color:null,isPossibleMove:!1,hasMoved:!1})))),currentPlayer:"White",from:null,possibleMoves:null,showPromotionDialog:!1,promotionPosition:null,lastMove:null};e.game=t;const a={messages:[],threadId:null};e.chat=a,e.isNextMoveLoading=!1,e.isChatLoading=!1},addMessage(e,t){e.chat.messages.push(t)},switchPlayer(e){e.game.currentPlayer="Black"===e.game.currentPlayer?"White":"Black"},setWinner(e,t){e.game.winner=t},setIsNextMoveLoading(e,t){e.isNextMoveLoading=t},setIsChatLoading(e,t){e.isChatLoading=t},setThreadId(e,t){e.chat.threadId=t},setFrom(e,t){e.game.from=t},clearFrom(e){e.game.from=null},movePiece(e,{from:t,to:a}){const l=e.game.board[t.y][t.x];l.hasMoved=!0,e.game.lastMove={from:t,to:a,piece:Object.assign({},l)},e.game.board[a.y][a.x]=Object.assign({},l),e.game.board[t.y][t.x]={type:null,color:null,isPossibleMove:!1,hasMoved:!1},e.game.currentPlayer="Black"===e.game.currentPlayer?"White":"Black"},setPossibleMoves(e,t){const a=e.game.board.map((e=>e.map((e=>({...e,isPossibleMove:!1})))));t.forEach((({x:e,y:t})=>{a[t]&&a[t][e]&&(a[t][e]={...a[t][e],isPossibleMove:!0})})),e.game.board=a},clearPossibleMoves(e){e.game.board=e.game.board.map((e=>e.map((e=>({...e,isPossibleMove:!1}))))),e.game.possibleMoves=null},promotePawn(e,{position:t,newType:a}){const{x:l,y:o}=t;e.game.board[o][l].type=a},setPromotionPosition(e,t){e.game.promotionPosition=t},updateShowPromotionDialog(e,t){e.game.showPromotionDialog=t}},actions:{showPromotionDialog({commit:e},{position:t}){e("setPromotionPosition",t),e("updateShowPromotionDialog",!0)},checkSafeMoves({commit:e,state:t},{currentPlayer:a,piece:l,position:o}){const r=$(t.game.board,a,t.game.lastMove,l,o);if(!Array.isArray(r))return void console.error("possibleMoves is not an array:",r);let s=r.filter((e=>{if("King"===l.type&&2===Math.abs(e.x-o.x))return!K(t.game.board,l.color,t.game.lastMove);const a=R(t.game.board,o,e);return!K(a,l.color,{from:o,to:e,piece:Object.assign({},l)})}));return s.length>0&&(e("setPossibleMoves",s),e("setFrom",o)),s},performMove({dispatch:e,commit:t,state:a},{from:l,to:o}){if(!1===a.game.showPromotionDialog){const r=a.game.board[l.y][l.x];if("Pawn"===r.type&&1===Math.abs(l.y-o.y)&&1===Math.abs(l.x-o.x)&&null===a.game.board[o.y][o.x].type&&"Pawn"===a.game.board[l.y][o.x].type&&a.game.board[l.y][o.x].color!==a.game.cur&&(a.game.board[l.y][o.x].type=null,a.game.board[l.y][o.x].color=null),"King"===r.type&&2===Math.abs(l.x-o.x)){const e=6===o.x?7:0,t=6===o.x?5:3,r=a.game.board[l.y][e];a.game.board[l.y][t]=r,a.game.board[l.y][t].hasMoved=!0,a.game.board[l.y][e]={type:null,color:null,isPossibleMove:!1,hasMoved:!1}}t("movePiece",{from:l,to:o}),"Pawn"!==r.type||0!==o.y&&7!==o.y||e("showPromotionDialog",{position:o}),e("checkForEndGame"),t("clearPossibleMoves"),t("clearFrom")}},async checkAllSafeMoves({state:e,dispatch:t,commit:a}){let l=[];e.game.board.forEach(((a,o)=>{a.forEach(((a,r)=>{if(a.color===e.game.currentPlayer){const s={x:r,y:o},n=t("checkSafeMoves",{currentPlayer:e.game.currentPlayer,piece:a,position:s}).then((e=>e.map((e=>({from:s,to:e})))));l.push(n)}}))}));const o=await Promise.all(l),r=o.flat();return a("clearPossibleMoves"),a("clearFrom"),r},checkForEndGame({dispatch:e,state:t,commit:a}){let l=[],o=[];t.game.board.forEach(((t,a)=>{t.forEach(((t,r)=>{if(t.type)if("White"===t.color){const o=e("checkSafeMoves",{currentPlayer:"White",piece:t,position:{x:r,y:a}}).then((e=>e.length>0));l.push(o)}else if("Black"===t.color){const l=e("checkSafeMoves",{currentPlayer:"Black",piece:t,position:{x:r,y:a}}).then((e=>e.length>0));o.push(l)}}))})),Promise.all(l).then((e=>{const t=e.some((e=>e));Promise.all(o).then((e=>{const l=e.some((e=>e));!t&&l?a("setWinner","Black"):!l&&t?a("setWinner","White"):t||l||a("setWinner","Draw")}))}))},async sendMessage({dispatch:e,commit:t,state:a},l){t("setIsChatLoading",!0),t("addMessage",{text:l,sender:"user"});const o=await e("checkAllSafeMoves");try{const e=await h.A.post(U+"chess/chat",{board:a.game.board,currentPlayer:a.game.currentPlayer,validMoves:o,question:l},{headers:{"x-api-key":j,"x-thread-id":a.chat.threadId}});if(200===e.status){var r=await h.A.get(U+"chess/chat",{headers:{"x-api-key":j,"x-thread-id":e.data.threadId,"x-run-id":e.data.runId}});while(200!=r.status)r=await h.A.get(U+"chess/chat",{headers:{"x-api-key":j,"x-thread-id":e.data.threadId,"x-run-id":e.data.runId}})}t("setThreadId",r.data.threadId),t("addMessage",{text:r.data.text,sender:"ai"})}catch(s){console.error("Error fetching chat:",s)}t("setIsChatLoading",!1)},async getNextMove({commit:e,state:t,dispatch:a}){const l=await a("checkAllSafeMoves");e("setIsNextMoveLoading",!0);try{const e=await h.A.post(U+"chess/move",{board:t.game.board,currentPlayer:t.game.currentPlayer,validMoves:l},{headers:{"x-api-key":j}});if(200===e.status){var o=await h.A.get(U+"chess/move",{headers:{"x-api-key":j,"x-thread-id":e.data.threadId,"x-run-id":e.data.runId}});while(200!=o.status)o=await h.A.get(U+"chess/move",{headers:{"x-api-key":j,"x-thread-id":e.data.threadId,"x-run-id":e.data.runId}})}const{from:r,to:s}=o.data;t.game.board[r.y][r.x].color===t.game.currentPlayer&&a("performMove",{from:r,to:s})}catch(r){console.error("Error fetching next move:",r)}e("setIsNextMoveLoading",!1)},resetGame({commit:e}){e("setGame")}}},O={namespaced:!0,state:{currentGameId:null,teamInfo:{colors:["#FF5733","#33FF57","#3357FF","#F3FF33"],icons:["mdi-bat","mdi-snake","mdi-dolphin","mdi-jellyfish"]},builds:[{build_id:"",build_name:""}],gameInfo:{setting:{rule:"normal"},field:null},units:[],selectedBuild:null,parts:[],selectedUnit:null},mutations:{setCurrentGameId(e,t){e.currentGameId=t},setGameInfo(e,t){e.gameInfo=t},setBuilds(e,t){e.builds=t},setField(e,t){e.gameInfo.field=t},setUnits(e,t){e.units=t},setSelectedBuild(e,t){e.selectedBuild=t},setParts(e,t){e.parts=t},setSelectedUnit(e,t){e.selectedUnit=t}},actions:{setCurrentGameId({commit:e},t){e("setCurrentGameId",t)},setGameInfo({commit:e},t){e("setGameInfo",t)},setBuilds({commit:e},t){e("setBuilds",t)},setField({commit:e},t){e("setField",t)},setUnits({commit:e},t){e("setUnits",t)},setSelectedBuild({commit:e},t){e("setSelectedBuild",t)},setParts({commit:e},t){e("setParts",t)},setSelectedUnit({commit:e},t){e("setSelectedUnit",t)}},getters:{currentGameId:e=>e.currentGameId,gameInfo:e=>e.gameInfo,builds:e=>e.builds,field:e=>e.gameInfo.field,teamInfo:e=>e.teamInfo,units:e=>e.units,selectedBuild:e=>e.selectedBuild,parts:e=>e.parts,selectedUnit:e=>e.selectedUnit}};var z=a(3198),D=a.n(z),H=a(406),q=a(9529);const{property:J}=(0,q.J0)(),{event:Z}=(0,q.d$)(),Y=e=>{J.value={id:"G-XKPT97SQ4C",params:{user_id:e}},Z("login",{user_id:e})},ee=()=>{Z("logout",{user_id:J.value.params?.userId}),J.value={id:"G-XKPT97SQ4C",params:{user_id:null}}},te="BVcRsXqr2v9s3EWTkuBRg5GlmoGGW4bZ8ABef34S",ae="https://spb4jent01.execute-api.ap-northeast-1.amazonaws.com/prod/",le={namespaced:!0,state:{isFeedbackLoading:!1},mutations:{setIsFeedbackLoading(e,t){e.isFeedbackLoading=t}},actions:{async sendFeedback({commit:e},{message:t,name:a,page:l}){e("setIsFeedbackLoading",!0);try{const e=await h.A.post(ae+"feedback",{feedback:t,name:a,page:l},{headers:{"x-api-key":te}});console.log(e)}catch(o){console.error("Error fetching feedback:",o)}e("setIsFeedbackLoading",!1)}}},oe={namespaced:!0,state:()=>({refresh_token:null,id_token:null,access_token:null,name:null}),mutations:{saveToken(e,{token:t,name:a}){t.refresh_token&&(e.refresh_token=t.refresh_token),e.id_token=t.id_token,e.access_token=t.access_token,e.name=a,Y(a)},removeToken(e){e.refresh_token=null,e.id_token=null,e.access_token=null,e.name=null,ee()}},actions:{saveToken({commit:e},t){if(t?.id_token)try{const a=D().decode(t.id_token),l=a["cognito:username"];e("saveToken",{token:t,name:l})}catch(a){console.error("Failed to decode token:",a)}else console.error("id_token is undefined. Token object:",t)},removeToken({commit:e}){e("removeToken")}},getters:{getRefreshToken:e=>e.refresh_token,getIdToken:e=>e.id_token,getAccessToken:e=>e.access_token,getName:e=>e.name}};var re=(0,g.y$)({modules:{articleStore:S,reversiStore:V,chessStore:Q,buildersTacticsStore:O,authStore:oe,commonStore:le},plugins:[(0,H.A)()]}),se=a(5220),ne=a.p+"img/MeepleBotFriend.e05ad0fa.webp",ie=a.p+"img/MeepleBotBoardGame.6cbd0030.jpg",ue=a(4058),ce=a(1789);const de={id:"boardgame"},ve={id:"meeplebot"},me=(0,l.Lk)("p",null,"ミープルボットは、GPT（Generative Pre-trained Transformer）をメインロジックとして動作する愛らしいロボットキャラクターです。彼らの設計は、親しみやすさと機能性を兼ね備えており、ユーザーとの相互作用を重視しています。",-1),pe=(0,l.Lk)("p",null,"このミープルボットはただのキャラクターではなく、GPTをメインロジックとして活用して、ユーザーとの相互作用を豊かにします。特にボードゲームに関して強い関心を持ち、その知識と技能は単にゲームを楽しむだけでなく、学習と進化も含まれています。ミープルボットは様々なボードゲームのルールを覚え、ゲーム戦略に関するアドバイスを提供することができます。さらに、対戦相手としても機能し、ユーザーに挑戦的かつ教育的なゲーム体験を提供します。",-1),ge=(0,l.Lk)("p",null,"ミープルボットには多様性があり、それぞれが異なるボードゲームに特化している場合があります。この多様性により、ユーザーは自分の興味やスキルレベルに応じて最適なミープルボットを見つけ、ゲームを通じて学習や楽しみを深めることができます。ミープルボットは単なるゲームパートナーではなく、学習を促進し、戦略的思考を養うためのインテリジェントなロボットとして設計されています。",-1),fe=(0,l.Lk)("p",null,"このようにミープルボットは、技術と遊び心を融合させた、新しいタイプのロボットキャラクターであり、ユーザーにとって魅力的で有益な存在です。彼らはボードゲームを通じて、楽しみながら学び、成長することの価値を伝えます。",-1),he={id:"articles"};var be={__name:"MainViewer",setup(e){const t=(0,g.Pj)(),a=(0,l.EW)((()=>{const e=t.state.articleStore.articles;return e})),o=(0,f.KR)(null),s=e=>{String(o.value)===String(e)?o.value=null:o.value=e},n=(0,l.EW)((()=>{if(null===o.value)return a.value;const e=a.value.filter((e=>e.tags.includes(o.value)));return e})),i=(0,l.EW)((()=>{const e=new Set;return a.value.forEach((t=>{t.tags.forEach((t=>e.add(t)))})),Array.from(e)}));return(e,t)=>{const a=(0,l.g2)("v-card-title"),u=(0,l.g2)("v-divider"),c=(0,l.g2)("v-icon"),d=(0,l.g2)("v-list-item-icon"),v=(0,l.g2)("router-link"),m=(0,l.g2)("v-list-item-content"),p=(0,l.g2)("v-list-item"),g=(0,l.g2)("v-list"),h=(0,l.g2)("v-card"),b=(0,l.g2)("v-col"),k=(0,l.g2)("v-row"),_=(0,l.g2)("v-spacer"),y=(0,l.g2)("v-img"),F=(0,l.g2)("v-card-text"),W=(0,l.g2)("v-chip"),w=(0,l.g2)("v-chip-group"),x=(0,l.g2)("v-card-actions");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("section",de,[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"elevation-2 my-4"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"headline"},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボット（AI）とのゲーム")])),_:1}),(0,l.bF)(u),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-checkbox-multiple-blank-circle")])),_:1})])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{to:"/reversi"},{default:(0,l.k6)((()=>[(0,l.eW)("リバーシ")])),_:1})])),_:1})])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-chess-queen")])),_:1})])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{to:"/chess"},{default:(0,l.k6)((()=>[(0,l.eW)("チェス")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(b,{cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{class:"elevation-2 my-4"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{class:"headline"},{default:(0,l.k6)((()=>[(0,l.eW)("オリジナルゲーム（対人戦、要ログイン）")])),_:1}),(0,l.bF)(u),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)("mdi-hammer-wrench")])),_:1})])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{to:"/buildersTactics"},{default:(0,l.k6)((()=>[(0,l.eW)("Builders Tactics（開発中）")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,l.bF)(_)]),(0,l.Lk)("section",ve,[(0,l.bF)(h,{class:"my-4"},{default:(0,l.k6)((()=>[(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボット紹介（キャライメージ）")])),_:1}),(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{cols:"12",md:"3"},{default:(0,l.k6)((()=>[(0,l.bF)(y,{src:(0,f.R1)(ne),alt:"ミープルボットの画像",width:300},null,8,["src"])])),_:1}),(0,l.bF)(b,{cols:"12",md:"3"},{default:(0,l.k6)((()=>[(0,l.bF)(y,{src:(0,f.R1)(ie),alt:"ミープルボットの画像",width:300},null,8,["src"])])),_:1}),(0,l.bF)(b,{cols:"12",md:"3"},{default:(0,l.k6)((()=>[(0,l.bF)(y,{src:(0,f.R1)(ue),alt:"ミープルボットの画像",width:300},null,8,["src"])])),_:1}),(0,l.bF)(b,{cols:"12",md:"3"},{default:(0,l.k6)((()=>[(0,l.bF)(y,{src:(0,f.R1)(ce),alt:"ミープルボットの画像",width:300},null,8,["src"])])),_:1})])),_:1}),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[me,pe,ge,fe])),_:1})])),_:1}),(0,l.bF)(_)]),(0,l.Lk)("section",he,[(0,l.bF)(h,{class:"my-4"},{default:(0,l.k6)((()=>[(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)("記事一覧")])),_:1}),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[(0,l.bF)(b,{cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(w,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(i.value,(e=>((0,l.uX)(),(0,l.Wv)(W,{key:e,class:(0,r.C4)({selected:o.value===e}),onClick:t=>s(e)},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.value,(e=>((0,l.uX)(),(0,l.Wv)(b,{cols:"12",md:"6",lg:"4",key:e.id},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(y,{src:e.imageUrl,alt:e.title,width:400},null,8,["src","alt"]),(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.title),1)])),_:2},1024),(0,l.bF)(x,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{to:`/articles/${e.id}`},{default:(0,l.k6)((()=>[(0,l.eW)("Read more")])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}),(0,l.bF)(_)])],64)}}};const ke=be;var _e=ke;const ye={key:0,class:"article"},Fe=["src"],We=["innerHTML"],we={key:1},xe=(0,l.Lk)("p",null,"記事が見つかりません。",-1),Pe=[xe];function Ce(e,t,a,o,s,n){return n.article?((0,l.uX)(),(0,l.CE)("div",ye,[(0,l.Lk)("h1",null,(0,r.v_)(n.article.title),1),(0,l.Lk)("img",{src:n.article.imageUrl,alt:"Article image"},null,8,Fe),(0,l.Lk)("div",{innerHTML:n.article.content},null,8,We)])):((0,l.uX)(),(0,l.CE)("div",we,Pe))}var Me={computed:{...(0,g.L8)({getArticleById:"articleStore/getArticleById"}),article(){const e=this.getArticleById(this.$route.params.id);return console.log("article:",e),e}}};const Ee=(0,C.A)(Me,[["render",Ce]]);var Se=Ee;const Ie={class:"board"};function Xe(e,t,a,o,r,s){const n=(0,l.g2)("BoardCell");return(0,l.uX)(),(0,l.CE)("div",Ie,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.board,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"row"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a},[(0,l.bF)(n,{state:e,onClick:()=>this.handleMove({x:a,y:t})},null,8,["state","onClick"])])))),128))])))),128))])}const Ae={class:"cell"},Le={key:0,class:"disk black"},Te={key:1,class:"disk white"};function Be(e,t,a,o,r,s){return(0,l.uX)(),(0,l.CE)("div",Ae,["black"===a.state?((0,l.uX)(),(0,l.CE)("div",Le)):(0,l.Q3)("",!0),"white"===a.state?((0,l.uX)(),(0,l.CE)("div",Te)):(0,l.Q3)("",!0)])}var Ge={props:["state"]};const Ve=(0,C.A)(Ge,[["render",Be],["__scopeId","data-v-2f7bfe67"]]);var je=Ve,Ue={components:{BoardCell:je},computed:(0,g.aH)({board:e=>e.reversiStore.game.board}),methods:{...(0,g.i0)("reversiStore",["handleMove"])}};const Ne=(0,C.A)(Ue,[["render",Xe],["__scopeId","data-v-962a8dac"]]);var Ke=Ne;const $e={key:0},Re=(0,l.Lk)("p",null,"Game Over!",-1),Qe={key:1};function Oe(e,t,a,o,s,n){return(0,l.uX)(),(0,l.CE)("div",null,[o.isGameOver?((0,l.uX)(),(0,l.CE)("div",$e,[Re,(0,l.Lk)("p",null,(0,r.v_)(o.winnerMessage),1)])):((0,l.uX)(),(0,l.CE)("div",Qe,[(0,l.Lk)("p",null,"Current Player: "+(0,r.v_)(o.currentPlayer),1)]))])}var ze={name:"PlayerIndicator",setup(){const e=(0,g.Pj)(),t=(0,l.EW)((()=>e.state.reversiStore.game.currentPlayer)),a=(0,l.EW)((()=>e.state.reversiStore.game.isGameOver)),o=(0,l.EW)((()=>e.state.reversiStore.game.winner)),r=(0,l.EW)((()=>o.value?`Winner: ${o.value.toUpperCase()}!`:"It's a tie!"));return{currentPlayer:t,isGameOver:a,winnerMessage:r}}};const De=(0,C.A)(ze,[["render",Oe]]);var He=De;const qe={class:"score-board"};function Je(e,t,a,o,s,n){return(0,l.uX)(),(0,l.CE)("div",qe,[(0,l.Lk)("div",null,"Black: "+(0,r.v_)(n.score.black),1),(0,l.Lk)("div",null,"White: "+(0,r.v_)(n.score.white),1)])}var Ze={computed:{...(0,g.aH)({board:e=>e.reversiStore.game.board}),score(){let e=0,t=0;for(const a of this.board)for(const l of a)"black"===l&&e++,"white"===l&&t++;return{black:e,white:t}}}};const Ye=(0,C.A)(Ze,[["render",Je]]);var et=Ye;const tt={class:"chat-window"};function at(e,t,a,o,r,s){const n=(0,l.g2)("ChatMessage");return(0,l.uX)(),(0,l.CE)("div",tt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.messages,((e,t)=>((0,l.uX)(),(0,l.Wv)(n,{key:t,message:e.text,sender:e.sender},null,8,["message","sender"])))),128))])}const lt={class:"message"};function ot(e,t,a,o,s,n){return(0,l.uX)(),(0,l.CE)("div",{class:(0,r.C4)(["chat-message",a.sender])},[(0,l.Lk)("div",lt,(0,r.v_)(a.message),1)],2)}var rt={props:["message","sender"]};const st=(0,C.A)(rt,[["render",ot]]);var nt=st,it={components:{ChatMessage:nt},props:["messages"]};const ut=(0,C.A)(it,[["render",at]]);var ct=ut;const dt={class:"chat-input"},vt={key:0};function mt(e,t,a,r,s,n){const i=(0,l.g2)("v-text-field");return(0,l.uX)(),(0,l.CE)("div",dt,[e.isChatLoading?((0,l.uX)(),(0,l.CE)("p",vt,"ミープルボットが考え中...")):((0,l.uX)(),(0,l.Wv)(i,{key:1,modelValue:s.input,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input=e),onKeyup:(0,o.jR)(n.send,["enter"]),placeholder:"ミープルボットへの質問を入れてください...","min-width":"400"},null,8,["modelValue","onKeyup"]))])}var pt={data(){return{input:""}},computed:{...(0,g.aH)({isChatLoading:e=>e.reversiStore.isChatLoading})},methods:{send(){this.$emit("send",this.input),this.input=""}}};const gt=(0,C.A)(pt,[["render",mt]]);var ft=gt;const ht={class:"reset"};function bt(e,t,a,o,r,s){const n=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",ht,[(0,l.bF)(n,{onClick:t[0]||(t[0]=e=>s.send())},{default:(0,l.k6)((()=>[(0,l.eW)("ゲームをリセットする")])),_:1})])}var kt={methods:{send(){this.$emit("send")}}};const _t=(0,C.A)(kt,[["render",bt]]);var yt=_t;const Ft=e=>((0,l.Qi)("data-v-6d4f3766"),e=e(),(0,l.jt)(),e),Wt={class:"Feedback-input"},wt=Ft((()=>(0,l.Lk)("p",null,"ゲームやAI、このサイトへのご意見をお聞かせください。",-1))),xt={key:0};function Pt(e,t,a,r,s,n){const i=(0,l.g2)("v-text-field");return(0,l.uX)(),(0,l.CE)("div",Wt,[wt,e.isFeedbackLoading?((0,l.uX)(),(0,l.CE)("p",xt,"送信中...")):((0,l.uX)(),(0,l.Wv)(i,{key:1,modelValue:s.input,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input=e),onKeyup:(0,o.jR)(n.send,["enter"]),placeholder:"ご意見を入力してください。。。",class:"feedback-text-field"},null,8,["modelValue","onKeyup"]))])}var Ct={data(){return{input:""}},computed:{...(0,g.aH)({isFeedbackLoading:e=>e.commonStore.isFeedbackLoading}),...(0,g.L8)({getUserName:"authStore/getName"})},methods:{send(){const e=this.input,t=this.getUserName?this.getUserName:"MeepleBotChallenge",a=this.$route.path;this.$emit("send",{message:e,name:t,page:a}),this.input=""}}};const Mt=(0,C.A)(Ct,[["render",Pt],["__scopeId","data-v-6d4f3766"]]);var Et=Mt;const St={key:0};function It(e,t,a,o,r,s){const n=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",null,[e.isNextMoveLoading?((0,l.uX)(),(0,l.CE)("p",St,"ミープルボットが次の手を計算中...")):((0,l.uX)(),(0,l.Wv)(n,{key:1,onClick:s.askAINextMove},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに次の手を決めさせる")])),_:1},8,["onClick"]))])}var Xt={name:"AINextMoveButton",computed:{...(0,g.aH)({isNextMoveLoading:e=>e.reversiStore.isNextMoveLoading})},methods:{...(0,g.i0)("reversiStore",["getNextMove"]),askAINextMove(){this.getNextMove()}}};const At=(0,C.A)(Xt,[["render",It]]);var Lt=At;const Tt={class:"chat-input"};function Bt(e,t,a,o,r,s){const n=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",Tt,[e.isChatLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(n,{key:0,onClick:t[0]||(t[0]=e=>s.send("戦況は？"))},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに戦況を聞く")])),_:1})),e.isChatLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(n,{key:1,onClick:t[1]||(t[1]=e=>s.send("最善手は？"))},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに最善手を聞く")])),_:1}))])}var Gt={data(){return{input:""}},computed:{...(0,g.aH)({isChatLoading:e=>e.reversiStore.isChatLoading})},methods:{send(e){this.$emit("send",e)}}};const Vt=(0,C.A)(Gt,[["render",Bt]]);var jt=Vt;const Ut={id:"reversi"},Nt=["src"],Kt={components:{ReversiBoard:Ke,PlayerIndicator:He,ScoreBoard:et,ChatWindow:ct,ChatInput:ft,AINextMoveButton:Lt,ChatButton:jt,ResetButton:yt,FeedbackInput:Et},computed:{...(0,g.aH)({game:e=>e.reversiStore.game,chat:e=>e.reversiStore.chat})},methods:{...(0,g.i0)({sendMessage:"reversiStore/sendMessage",resetGame:"reversiStore/resetGame",sendFeedback:"commonStore/sendFeedback"})}};var $t=Object.assign(Kt,{__name:"ReversiViewer",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Ut,[(0,l.bF)(Ke,{board:e.game.board},null,8,["board"]),(0,l.bF)(He,{player:e.game.currentPlayer},null,8,["player"]),(0,l.bF)(et,{board:e.game.board},null,8,["board"]),(0,l.bF)(yt,{onSend:e.resetGame},null,8,["onSend"]),(0,l.Lk)("img",{src:(0,f.R1)(ie),alt:"ミープルボット",style:{width:"200px"}},null,8,Nt),(0,l.bF)(Lt),(0,l.bF)(ct,{messages:e.chat.messages},null,8,["messages"]),(0,l.bF)(jt,{onSend:e.sendMessage},null,8,["onSend"]),(0,l.bF)(ft,{onSend:e.sendMessage},null,8,["onSend"]),(0,l.bF)(Et,{onSend:e.sendFeedback},null,8,["onSend"])]))}});const Rt=(0,C.A)($t,[["__scopeId","data-v-936498da"]]);var Qt=Rt;function Ot(e,t,a,o,s,n){const i=(0,l.g2)("v-icon");return(0,l.uX)(),(0,l.Wv)(i,{class:(0,r.C4)(["chess-piece",{"invert-color":"White"===a.piece.color}])},{default:(0,l.k6)((()=>[(0,l.eW)(" mdi-chess-"+(0,r.v_)(n.pieceName),1)])),_:1},8,["class"])}var zt={props:{piece:{type:Object,required:!0}},computed:{pieceName(){return this.piece.type?this.piece.type.toLowerCase():""}}};const Dt=(0,C.A)(zt,[["render",Ot],["__scopeId","data-v-19c3ad1a"]]);var Ht=Dt,qt={__name:"BoardSquare",props:{piece:Object,position:Object,isPossibleMove:Boolean},setup(e){const t=(0,g.Pj)(),a=e,o=(0,l.EW)((()=>{const e=(a.position.x+a.position.y)%2===1;return a.isPossibleMove?"possible-move":{"board-square-dark":e,"board-square-light":!e}})),s=()=>{null==t.state.chessStore.game.winner&&(null!=t.state.chessStore.game.from?t.state.chessStore.game.from.x===a.position.x&t.state.chessStore.game.from.y===a.position.y?(t.commit("chessStore/clearPossibleMoves"),t.commit("chessStore/clearFrom")):a.isPossibleMove&&t.dispatch("chessStore/performMove",{from:t.state.chessStore.game.from,to:a.position}):t.dispatch("chessStore/checkSafeMoves",{currentPlayer:t.state.chessStore.game.currentPlayer,piece:a.piece,position:a.position}))};return(t,a)=>((0,l.uX)(),(0,l.CE)("div",{class:(0,r.C4)(["board-square",o.value]),onClick:s},[e.piece?((0,l.uX)(),(0,l.Wv)(Ht,{key:0,piece:e.piece},null,8,["piece"])):(0,l.Q3)("",!0)],2))}};const Jt=(0,C.A)(qt,[["__scopeId","data-v-67eed13a"]]);var Zt=Jt;const Yt={class:"chess-board"};var ea={__name:"ChessBoard",setup(e){const t=(0,g.Pj)(),a=(0,l.EW)((()=>t.state.chessStore.game.board));return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Yt,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"board-row"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,a)=>((0,l.uX)(),(0,l.Wv)(Zt,{key:a,piece:{type:e.type,color:e.color},position:{x:a,y:t},isPossibleMove:e.isPossibleMove},null,8,["piece","position","isPossibleMove"])))),128))])))),128))]))}};const ta=(0,C.A)(ea,[["__scopeId","data-v-46996c22"]]);var aa=ta;const la={id:"player-indicator"},oa={key:0},ra={key:1},sa={key:2},na={key:3};function ia(e,t,a,o,s,n){return(0,l.uX)(),(0,l.CE)("div",la,["Draw"===a.winner?((0,l.uX)(),(0,l.CE)("div",oa,"引き分け")):"White"===a.winner?((0,l.uX)(),(0,l.CE)("div",ra,"白の勝ち")):"Black"===a.winner?((0,l.uX)(),(0,l.CE)("div",sa,"黒の勝ち")):((0,l.uX)(),(0,l.CE)("div",na," 現在のプレイヤー: "+(0,r.v_)(a.currentPlayer),1))])}var ua={props:{currentPlayer:String,winner:String}};const ca=(0,C.A)(ua,[["render",ia]]);var da=ca;const va=e=>((0,l.Qi)("data-v-6bd53bf0"),e=e(),(0,l.jt)(),e),ma={class:"promotion-dialog"},pa=va((()=>(0,l.Lk)("p",null,"他の操作をする前に、ポーンからプロモーションする駒を選択してください。",-1)));function ga(e,t,a,o,r,s){return(0,l.uX)(),(0,l.CE)("div",ma,[pa,(0,l.Lk)("div",{class:"promotion-option",onClick:t[0]||(t[0]=e=>s.select("Queen"))},"クイーン"),(0,l.Lk)("div",{class:"promotion-option",onClick:t[1]||(t[1]=e=>s.select("Rook"))},"ルーク"),(0,l.Lk)("div",{class:"promotion-option",onClick:t[2]||(t[2]=e=>s.select("Bishop"))},"ビショップ"),(0,l.Lk)("div",{class:"promotion-option",onClick:t[3]||(t[3]=e=>s.select("Knight"))},"ナイト")])}var fa={name:"PromotionDialog",methods:{select(e){this.$emit("select",{pieceType:e})}}};const ha=(0,C.A)(fa,[["render",ga],["__scopeId","data-v-6bd53bf0"]]);var ba=ha;const ka={class:"chat-window"};function _a(e,t,a,o,r,s){const n=(0,l.g2)("ChatMessage");return(0,l.uX)(),(0,l.CE)("div",ka,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.messages,((e,t)=>((0,l.uX)(),(0,l.Wv)(n,{key:t,message:e.text,sender:e.sender},null,8,["message","sender"])))),128))])}const ya={class:"message"};function Fa(e,t,a,o,s,n){return(0,l.uX)(),(0,l.CE)("div",{class:(0,r.C4)(["chat-message",a.sender])},[(0,l.Lk)("div",ya,(0,r.v_)(a.message),1)],2)}var Wa={props:["message","sender"]};const wa=(0,C.A)(Wa,[["render",Fa]]);var xa=wa,Pa={components:{ChatMessage:xa},props:["messages"]};const Ca=(0,C.A)(Pa,[["render",_a]]);var Ma=Ca;const Ea={class:"chat-input"},Sa={key:0};function Ia(e,t,a,r,s,n){const i=(0,l.g2)("v-text-field");return(0,l.uX)(),(0,l.CE)("div",Ea,[e.isChatLoading?((0,l.uX)(),(0,l.CE)("p",Sa,"ミープルボットが考え中...")):((0,l.uX)(),(0,l.Wv)(i,{key:1,modelValue:s.input,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input=e),onKeyup:(0,o.jR)(n.send,["enter"]),placeholder:"ミープルボットへの質問を入れてください...","min-width":"400"},null,8,["modelValue","onKeyup"]))])}var Xa={data(){return{input:""}},computed:{...(0,g.aH)({isChatLoading:e=>e.chessStore.isChatLoading})},methods:{send(){this.$emit("send",this.input),this.input=""}}};const Aa=(0,C.A)(Xa,[["render",Ia]]);var La=Aa;const Ta={key:0};function Ba(e,t,a,o,r,s){const n=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",null,[e.isNextMoveLoading?((0,l.uX)(),(0,l.CE)("p",Ta,"ミープルボットが次の手を計算中...")):((0,l.uX)(),(0,l.Wv)(n,{key:1,onClick:s.askAINextMove},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに次の手を決めさせる")])),_:1},8,["onClick"]))])}var Ga={name:"AINextMoveButton",computed:{...(0,g.aH)({isNextMoveLoading:e=>e.chessStore.isNextMoveLoading})},methods:{...(0,g.i0)("chessStore",["getNextMove"]),askAINextMove(){this.getNextMove()}}};const Va=(0,C.A)(Ga,[["render",Ba]]);var ja=Va;const Ua={class:"chat-input"};function Na(e,t,a,o,r,s){const n=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",Ua,[e.isChatLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(n,{key:0,onClick:t[0]||(t[0]=e=>s.send("戦況は？"))},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに戦況を聞く")])),_:1})),e.isChatLoading?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(n,{key:1,onClick:t[1]||(t[1]=e=>s.send("最善手は？"))},{default:(0,l.k6)((()=>[(0,l.eW)("ミープルボットに最善手を聞く")])),_:1}))])}var Ka={data(){return{input:""}},computed:{...(0,g.aH)({isChatLoading:e=>e.chessStore.isChatLoading})},methods:{send(e){this.$emit("send",e)}}};const $a=(0,C.A)(Ka,[["render",Na]]);var Ra=$a;const Qa={id:"chess-viewer"},Oa=["src"],za={components:{ChessBoard:aa,PlayerIndicator:da,PromotionDialog:ba,ChatWindow:Ma,ChatInput:La,AINextMoveButton:ja,ChatButton:Ra,ResetButton:yt,FeedbackInput:Et},computed:{...(0,g.aH)({game:e=>e.chessStore.game,chat:e=>e.chessStore.chat})},methods:{...(0,g.i0)({sendMessage:"chessStore/sendMessage",resetGame:"chessStore/resetGame",sendFeedback:"commonStore/sendFeedback"}),handlePromotionSelect({pieceType:e}){this.$store.commit("chessStore/promotePawn",{position:this.game.promotionPosition,newType:e}),this.$store.commit("chessStore/updateShowPromotionDialog",!1)}}};var Da=Object.assign(za,{__name:"ChessViewer",setup(e){return(e,t)=>((0,l.uX)(),(0,l.CE)("div",Qa,[(0,l.bF)(da,{currentPlayer:e.game.currentPlayer,winner:e.game.winner},null,8,["currentPlayer","winner"]),(0,l.bF)(aa,{board:e.game.board},null,8,["board"]),e.game.showPromotionDialog?((0,l.uX)(),(0,l.Wv)(ba,{key:0,onSelect:e.handlePromotionSelect},null,8,["onSelect"])):(0,l.Q3)("",!0),(0,l.bF)(yt,{onSend:e.resetGame},null,8,["onSend"]),(0,l.Lk)("img",{src:(0,f.R1)(ie),alt:"ミープルボット",style:{width:"200px"}},null,8,Oa),(0,l.bF)(ja),(0,l.bF)(Ma,{messages:e.chat.messages},null,8,["messages"]),(0,l.bF)(Ra,{onSend:e.sendMessage},null,8,["onSend"]),(0,l.bF)(La,{onSend:e.sendMessage},null,8,["onSend"]),(0,l.bF)(Et,{onSend:e.sendFeedback},null,8,["onSend"])]))}});const Ha=(0,C.A)(Da,[["__scopeId","data-v-5d81e655"]]);var qa=Ha;const Ja="BVcRsXqr2v9s3EWTkuBRg5GlmoGGW4bZ8ABef34S",Za="https://spb4jent01.execute-api.ap-northeast-1.amazonaws.com/prod/",Ya=h.A.create({baseURL:Za+"buildersTactics",headers:{"x-api-key":Ja}});Ya.interceptors.request.use((e=>{const t=re.getters["authStore/getIdToken"];return t&&(e.headers["Authorization"]=`${t}`),e}),(e=>Promise.reject(e)));const el=async()=>{try{const e=await Ya.post("/games");return e.data}catch(e){throw console.error("Error creating game:",e),e}},tl=async()=>{try{const e=await Ya.get("/games");return e.data}catch(e){throw console.error("Error fetching games:",e),e}},al=async e=>{try{const t=await Ya.post(`/games/${e}`,{});return t.data}catch(t){throw console.error(`Error joining game ${e}:`,t),t}},ll=async(e,t)=>{try{const a=await Ya.delete(`/games/${e}/${t}`);return a.data}catch(a){throw console.error(`Error leaving game ${e} for player ${t}:`,a),a}},ol=async(e,t)=>{try{const a=await Ya.get(`/games/${e}/${t}`);return a.data}catch(a){throw console.error(`Error fetching game ${e} for player ${t}:`,a),a}},rl=async(e,t)=>{try{const a=await Ya.post(`/games/${e}/setting`,t);return a.data}catch(a){throw console.error(`Error updating game setting for game ${e}:`,a),a}},sl=async(e,t)=>{try{const a=await Ya.post(`/games/${e}/status`,t);return a.data}catch(a){throw console.error(`Error proceeding game status for game ${e}:`,a),a}},nl=async(e,t)=>{try{const a=await Ya.post(`/games/${e}/phase`,{phase:t});return a.data}catch(a){throw console.error(`Error proceeding phase for game ${e}:`,a),a}},il=async(e,t)=>{try{const a=await Ya.post(`/games/${e}/units`,t);return a.data}catch(a){throw console.error(`Error placing units for game ${e}:`,a),a}},ul=async e=>{try{const t=await Ya.get(`/games/${e}/units`);return t.data}catch(t){throw console.error(`Error fetching unit info for units in game ${e}:`,t),t}},cl=async(e,t,a)=>{try{const l=await Ya.post(`/games/${e}/units/${t}/move`,{target_cell:a.target_cell,part_id:a.part_id});return l.data}catch(l){throw console.error(`Error moving unit ${t} in game ${e}:`,l),l}},dl=async(e,t,a)=>{try{const l=await Ya.post(`/games/${e}/units/${t}/attack`,a);return l.data}catch(l){throw console.error(`Error attacking with unit ${t} in game ${e}:`,l),l}},vl=async()=>{try{const e=await Ya.get("/builds");return e.data}catch(e){throw console.error("Error fetching builds:",e),e}},ml=async e=>{try{const t=await Ya.post("/builds",e);return t.data}catch(t){throw console.error("Error creating build:",t),t}},pl=async()=>{try{const e=await Ya.get("/parts");return e.data}catch(e){throw console.error("Error fetching parts:",e),e}},gl=async e=>{try{const t=await Ya.get(`/parts/${e}`);return t.data}catch(t){throw console.error(`Error fetching part ${e}:`,t),t}},fl={key:0},hl={key:1},bl={key:0},kl={class:"builds-container"},_l=["onClick"],yl={key:1};var Fl={__name:"BuildViewer",setup(e){const t=(0,g.Pj)(),a=(0,l.EW)((()=>t.getters["buildersTacticsStore/selectedBuild"])),o=(0,f.KR)([]),s=(0,f.KR)([]),n=async()=>{try{const e=await vl();o.value=e.builds}catch(e){console.error("Failed to fetch builds:",e)}},i=async e=>{try{const t=await Promise.all(e.map((e=>gl(e))));s.value=t.map((e=>e))}catch(t){console.error("Failed to fetch parts details:",t)}},u=async e=>{t.dispatch("buildersTacticsStore/setSelectedBuild",e),await i([e.head_id,e.core_id,e.leg_id,...e.option_parts])},c=()=>{t.dispatch("buildersTacticsStore/setSelectedBuild",null),s.value=[]};return(0,l.sV)(n),(e,t)=>{const n=(0,l.g2)("v-btn"),i=(0,l.g2)("v-img"),d=(0,l.g2)("v-card-title"),v=(0,l.g2)("v-card-subtitle"),m=(0,l.g2)("v-divider"),p=(0,l.g2)("v-card"),g=(0,l.g2)("v-col"),f=(0,l.g2)("v-row"),h=(0,l.g2)("v-typography"),b=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(b,null,{default:(0,l.k6)((()=>[a.value?((0,l.uX)(),(0,l.CE)("div",fl,[(0,l.bF)(n,{onClick:c,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("Back to Builds List")])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{src:a.value.build_image_url,alt:a.value.build_name,contain:""},null,8,["src","alt"]),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(a.value.build_name)+" Details",1)])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(a.value.max_hp),1)])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(a.value.total_power),1)])),_:1}),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(a.value.total_cost),1)])),_:1}),(0,l.bF)(m,{class:"my-4"}),(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("Parts")])),_:1}),(0,l.bF)(f,{dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,(e=>((0,l.uX)(),(0,l.Wv)(g,{key:e.part_id,cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.parts_name),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Type: "+(0,r.v_)(e.part_type),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(e.power),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(e.cost),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(e.hp),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("div",hl,[o.value.length>0?((0,l.uX)(),(0,l.CE)("div",bl,[(0,l.bF)(h,{variant:"h4"},{default:(0,l.k6)((()=>[(0,l.eW)("Builds")])),_:1}),(0,l.Lk)("div",kl,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.build_id,onClick:t=>u(e),class:"build-card"},[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(i,{src:e.build_image_url,alt:e.build_name,contain:""},null,8,["src","alt"]),(0,l.bF)(d,{class:"small_font"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.build_name),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(e.max_hp),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(e.total_power),1)])),_:2},1024),(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(e.total_cost),1)])),_:2},1024)])),_:2},1024)],8,_l)))),128))])])):((0,l.uX)(),(0,l.CE)("div",yl,[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.eW)("No builds available.")])),_:1})]))]))])),_:1})}}};const Wl=(0,C.A)(Fl,[["__scopeId","data-v-71234c5e"]]);var wl=Wl;const xl=e=>((0,l.Qi)("data-v-93f3c11c"),e=e(),(0,l.jt)(),e),Pl=xl((()=>(0,l.Lk)("span",null,"Build is valid!",-1)));var Cl={__name:"BuildCreator",setup(e){const t=(0,f.KR)(!0),a=(0,f.KR)({build_name:"",head_id:"",core_id:"",leg_id:"",option_parts:[]}),o=(0,f.KR)([]),s=(0,f.KR)(!1),n=(0,f.KR)(!1),i=(0,l.EW)((()=>o.value.find((e=>e.part_id===a.value.head_id))||null)),u=(0,l.EW)((()=>o.value.find((e=>e.part_id===a.value.core_id))||null)),c=(0,l.EW)((()=>o.value.find((e=>e.part_id===a.value.leg_id))||null)),d=(0,l.EW)((()=>a.value.option_parts.map((e=>o.value.find((t=>t.part_id===e)))).filter((e=>void 0!==e)))),v=(0,l.EW)((()=>!c.value||m.value>c.value.max_cost)),m=(0,l.EW)((()=>{let e=0;return e+=i.value?.cost||0,e+=u.value?.cost||0,e+=c.value?.cost||0,d.value.length>0&&(e+=d.value.reduce(((e,t)=>e+t.cost),0)),e})),p=(0,l.EW)((()=>!u.value||g.value>u.value.max_power)),g=(0,l.EW)((()=>{let e=0;return e+=i.value?.power||0,e+=u.value?.power||0,e+=c.value?.power||0,d.value.length>0&&(e+=d.value.reduce(((e,t)=>e+t.power),0)),e})),h=(0,l.EW)((()=>!u.value||d.value.length>u.value.option_parts_number)),b=(0,l.EW)((()=>{let e=0;return e+=i.value?.hp||0,e+=u.value?.hp||0,e+=c.value?.hp||0,d.value.length>0&&(e+=d.value.reduce(((e,t)=>e+t.hp),0)),e})),k=[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],_=async()=>{try{const e=await pl();o.value=e.parts}catch(e){console.error("Failed to fetch parts:",e)}},y=e=>o.value.filter((t=>t.part_type===e)),F=async()=>{if(s.value){n.value=!0;try{await ml(a.value),alert("Build created successfully!"),a.value={build_name:"",head_id:"",core_id:"",leg_id:"",option_parts:[]}}catch(e){console.error("Failed to create build:",e)}finally{n.value=!1}}};return(0,l.sV)((()=>{_().finally((()=>{t.value=!1}))})),(e,o)=>{const f=(0,l.g2)("v-card-title"),_=(0,l.g2)("v-text-field"),W=(0,l.g2)("v-select"),w=(0,l.g2)("v-progress-circular"),x=(0,l.g2)("v-tooltip"),P=(0,l.g2)("v-btn"),C=(0,l.g2)("v-form"),M=(0,l.g2)("v-card"),E=(0,l.g2)("v-container"),S=(0,l.g2)("v-card-subtitle"),I=(0,l.g2)("v-divider"),X=(0,l.g2)("v-col"),A=(0,l.g2)("v-row"),L=(0,l.g2)("v-main"),T=(0,l.g2)("v-app");return(0,l.uX)(),(0,l.Wv)(T,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[t.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(E,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Create a New Build")])),_:1}),(0,l.bF)(C,{ref:"form",modelValue:s.value,"onUpdate:modelValue":o[5]||(o[5]=e=>s.value=e),"lazy-validation":""},{default:(0,l.k6)((()=>[(0,l.bF)(_,{modelValue:a.value.build_name,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.build_name=e),rules:k,label:"Build Name",required:""},null,8,["modelValue"]),(0,l.bF)(W,{modelValue:a.value.head_id,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value.head_id=e),items:y("head"),"item-title":"parts_name","item-value":"part_id",label:"Select Head"},null,8,["modelValue","items"]),(0,l.bF)(W,{modelValue:a.value.core_id,"onUpdate:modelValue":o[2]||(o[2]=e=>a.value.core_id=e),items:y("core"),"item-title":"parts_name","item-value":"part_id",label:"Select Core"},null,8,["modelValue","items"]),(0,l.bF)(W,{modelValue:a.value.leg_id,"onUpdate:modelValue":o[3]||(o[3]=e=>a.value.leg_id=e),items:y("legs"),"item-title":"parts_name","item-value":"part_id",label:"Select Leg"},null,8,["modelValue","items"]),(0,l.bF)(W,{modelValue:a.value.option_parts,"onUpdate:modelValue":o[4]||(o[4]=e=>a.value.option_parts=e),items:y("weapon"),"item-title":"parts_name","item-value":"part_id",label:"Select Option Parts",multiple:""},null,8,["modelValue","items"]),(0,l.bF)(P,{disabled:!s.value||n.value||v.value||p.value||h.value,onClick:F,color:"primary"},{default:(0,l.k6)((()=>[n.value?((0,l.uX)(),(0,l.Wv)(w,{key:0,indeterminate:"",size:"24",class:"mr-2"})):(0,l.Q3)("",!0),(0,l.eW)(" Submit "),(0,l.bF)(x,{bottom:"",activator:e.parent},{default:(0,l.k6)((()=>[Pl])),_:1},8,["activator"])])),_:1},8,["disabled"])])),_:1},8,["modelValue"])])),_:1})])),_:1})),t.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(M,{key:1},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Build Summary")])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(b.value),1)])),_:1}),c.value?((0,l.uX)(),(0,l.Wv)(S,{key:0,class:(0,r.C4)({"red-text":v.value})},{default:(0,l.k6)((()=>[(0,l.eW)(" Cost: "+(0,r.v_)(m.value)+" / "+(0,r.v_)(c.value.max_cost),1)])),_:1},8,["class"])):(0,l.Q3)("",!0),u.value?((0,l.uX)(),(0,l.Wv)(S,{key:1,class:(0,r.C4)({"red-text":p.value})},{default:(0,l.k6)((()=>[(0,l.eW)(" Power: "+(0,r.v_)(g.value)+" / "+(0,r.v_)(u.value.max_power),1)])),_:1},8,["class"])):(0,l.Q3)("",!0),u.value?((0,l.uX)(),(0,l.Wv)(S,{key:2,class:(0,r.C4)({"red-text":h.value})},{default:(0,l.k6)((()=>[(0,l.eW)(" OptionParts: "+(0,r.v_)(d.value.length)+" / "+(0,r.v_)(u.value.option_parts_number),1)])),_:1},8,["class"])):(0,l.Q3)("",!0),(0,l.bF)(I,{class:"my-4"}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)("Parts")])),_:1}),(0,l.bF)(A,{dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(X,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[i.value?((0,l.uX)(),(0,l.Wv)(M,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(i.value.parts_name),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Type: "+(0,r.v_)(i.value.part_type),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(i.value.power),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(i.value.cost),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(i.value.hp),1)])),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(X,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[u.value?((0,l.uX)(),(0,l.Wv)(M,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(u.value.parts_name),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Type: "+(0,r.v_)(u.value.part_type),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(u.value.power),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(u.value.cost),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(u.value.hp),1)])),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(X,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[c.value?((0,l.uX)(),(0,l.Wv)(M,{key:0},{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(c.value.parts_name),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Type: "+(0,r.v_)(c.value.part_type),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(c.value.power),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(c.value.cost),1)])),_:1}),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(c.value.hp),1)])),_:1})])),_:1})):(0,l.Q3)("",!0)])),_:1}),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.value,(e=>((0,l.uX)(),(0,l.Wv)(X,{key:e.part_id,cols:"12",md:"4"},{default:(0,l.k6)((()=>[(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.parts_name),1)])),_:2},1024),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Type: "+(0,r.v_)(e.part_type),1)])),_:2},1024),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Power: "+(0,r.v_)(e.power),1)])),_:2},1024),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("Cost: "+(0,r.v_)(e.cost),1)])),_:2},1024),(0,l.bF)(S,null,{default:(0,l.k6)((()=>[(0,l.eW)("HP: "+(0,r.v_)(e.hp),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}))])),_:1})])),_:1})}}};const Ml=(0,C.A)(Cl,[["__scopeId","data-v-93f3c11c"]]);var El=Ml,Sl={__name:"TacticsGamesListViewer",props:{toTactics:Function},setup(e){const t=e,a=(0,g.Pj)(),o=(0,f.KR)([]),s=(0,f.KR)(a.getters["authStore/getName"]),n=async()=>{try{const e=await tl();o.value=e.games}catch(e){console.error("ゲーム一覧の取得に失敗しました:",e)}},i=async()=>{try{const e=await el();o.value.push(e)}catch(e){console.error("ゲームの作成に失敗しました:",e)}},u=async e=>{try{await al(e),a.dispatch("buildersTacticsStore/setCurrentGameId",e),t.toTactics()}catch(l){console.error(`ゲーム ${e} への参加に失敗しました:`,l)}},c=async e=>{try{await ll(e,s.value),n()}catch(t){console.error(`ゲーム ${e} からの退出に失敗しました:`,t)}},d=e=>e.teams.reduce(((e,t)=>e+t.length),0),v=e=>e.teams.some((e=>e.some((e=>e.player_id===s.value))))&&"setting"==e.status;return(0,l.sV)(n),(e,t)=>{const a=(0,l.g2)("v-btn"),s=(0,l.g2)("v-col"),m=(0,l.g2)("v-row"),p=(0,l.g2)("v-card-title"),g=(0,l.g2)("v-card-subtitle"),f=(0,l.g2)("v-list-item-title"),h=(0,l.g2)("v-list-item-content"),b=(0,l.g2)("v-list-item"),k=(0,l.g2)("v-list"),_=(0,l.g2)("v-list-item-subtitle"),y=(0,l.g2)("v-card-text"),F=(0,l.g2)("v-card-actions"),W=(0,l.g2)("v-card"),w=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(w,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"d-flex justify-center mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{cols:"12",sm:"6",md:"4",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:n,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲーム一覧更新")])),_:1})])),_:1}),(0,l.bF)(s,{cols:"12",sm:"6",md:"4",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:i,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲーム作成")])),_:1})])),_:1})])),_:1}),(0,l.bF)(m,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o.value,(e=>((0,l.uX)(),(0,l.Wv)(s,{key:e.game_id,cols:"12",sm:"6",md:"4",lg:"3",class:"mb-4"},{default:(0,l.k6)((()=>[(0,l.bF)(W,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.eW)(" 参加者: "+(0,r.v_)(d(e))+" / "+(0,r.v_)(e.setting.player_number),1)])),_:2},1024),(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.status),1)])),_:2},1024),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.teams,((e,t)=>((0,l.uX)(),(0,l.Wv)(b,{key:t},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.Lk)("strong",null,"Team "+(0,r.v_)(t+1)+":",1)])),_:2},1024),(0,l.bF)(_,null,{default:(0,l.k6)((()=>[(0,l.bF)(k,{dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.Wv)(b,{key:e.player_id},{default:(0,l.k6)((()=>[(0,l.bF)(h,null,{default:(0,l.k6)((()=>[(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.player_id)+" ("+(0,r.v_)(e.agreement)+")",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024),(0,l.bF)(F,null,{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:t=>u(e.game_id),color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("参加")])),_:2},1032,["onClick"]),v(e)?((0,l.uX)(),(0,l.Wv)(a,{key:0,onClick:t=>c(e.game_id),color:"error"},{default:(0,l.k6)((()=>[(0,l.eW)("退出")])),_:2},1032,["onClick"])):(0,l.Q3)("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})}}};const Il=Sl;var Xl=Il;const Al=e=>((0,l.Qi)("data-v-f7cfe1e8"),e=e(),(0,l.jt)(),e),Ll=Al((()=>(0,l.Lk)("h3",null,"プレイヤー情報",-1)));var Tl={__name:"PlayerInfo",props:{teams:Array},setup(e){const t=e,a=(0,g.Pj)(),o=(0,l.EW)((()=>a.getters["buildersTacticsStore/teamInfo"]));return(e,a)=>{const s=(0,l.g2)("v-icon"),n=(0,l.g2)("v-card-title"),i=(0,l.g2)("v-divider"),u=(0,l.g2)("v-list-item-title"),c=(0,l.g2)("v-list-item-subtitle"),d=(0,l.g2)("v-list-item-content"),v=(0,l.g2)("v-list-item"),m=(0,l.g2)("v-list"),p=(0,l.g2)("v-card-text"),g=(0,l.g2)("v-card"),f=(0,l.g2)("v-col"),h=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.CE)("div",null,[Ll,(0,l.bF)(h,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.teams,((e,t)=>((0,l.uX)(),(0,l.Wv)(f,{key:t,cols:"12",md:"6"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{style:(0,r.Tr)({borderColor:o.value.colors[t],borderWidth:"2px",borderStyle:"solid"})},{default:(0,l.k6)((()=>[(0,l.bF)(n,{style:(0,r.Tr)({color:o.value.colors[t]})},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(o.value.icons[t]),1)])),_:2},1024),(0,l.eW)(" Team "+(0,r.v_)(t+1),1)])),_:2},1032,["style"]),(0,l.bF)(i),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(m,{dense:""},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,(e=>((0,l.uX)(),(0,l.Wv)(v,{key:e.player_id},{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)("Player: "+(0,r.v_)(e.player_id),1)])),_:2},1024),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)("Score: "+(0,r.v_)(e.score),1)])),_:2},1024),(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.eW)("Status: "+(0,r.v_)(e.agreement),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1})])}}};const Bl=(0,C.A)(Tl,[["__scopeId","data-v-f7cfe1e8"]]);var Gl=Bl;const Vl=(0,l.Lk)("h3",null,"ゲーム設定",-1),jl=(0,l.Lk)("strong",null,"ルール:",-1),Ul=(0,l.Lk)("strong",null,"プレイヤー順:",-1),Nl=(0,l.Lk)("strong",null,"初期エリア:",-1),Kl=(0,l.Lk)("strong",null,"プレイヤー数:",-1),$l=(0,l.Lk)("strong",null,"チーム数:",-1),Rl=(0,l.Lk)("strong",null,"最大ターン数:",-1),Ql=(0,l.Lk)("strong",null,"フィールドサイズ:",-1),Ol=(0,l.Lk)("strong",null,"最大コスト:",-1),zl=(0,l.Lk)("strong",null,"最大ビルド数:",-1);var Dl={__name:"GameSettings",emits:["fetch","update","agree","leave"],setup(e,{emit:t}){const a=(0,g.Pj)(),o=(0,l.EW)((()=>a.getters["buildersTacticsStore/gameInfo"])),s=t,n=()=>{s("fetch")},i=()=>{s("update",o.value.setting)},u=()=>{s("agree")},c=()=>{s("leave")};return(e,t)=>{const a=(0,l.g2)("v-col"),s=(0,l.g2)("v-row"),d=(0,l.g2)("v-card-text"),v=(0,l.g2)("v-select"),m=(0,l.g2)("v-text-field"),p=(0,l.g2)("v-list-item-content"),g=(0,l.g2)("v-list-item"),f=(0,l.g2)("v-list"),h=(0,l.g2)("v-btn");return(0,l.uX)(),(0,l.CE)("div",null,[Vl,"setting"!==o.value.status?((0,l.uX)(),(0,l.Wv)(d,{key:0,class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"pt-3"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[jl,(0,l.eW)(" "+(0,r.v_)(o.value.setting.rule),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Ul,(0,l.eW)(" "+(0,r.v_)(o.value.setting.player_order),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Nl,(0,l.eW)(" "+(0,r.v_)(o.value.setting.initial_area),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Kl,(0,l.eW)(" "+(0,r.v_)(o.value.setting.player_number),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[$l,(0,l.eW)(" "+(0,r.v_)(o.value.setting.team_number),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Rl,(0,l.eW)(" "+(0,r.v_)(o.value.setting.max_turn),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Ql,(0,l.eW)(" "+(0,r.v_)(o.value.setting.field_size),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[Ol,(0,l.eW)(" "+(0,r.v_)(o.value.setting.max_cost),1)])),_:1}),(0,l.bF)(a,{cols:"12",md:"4"},{default:(0,l.k6)((()=>[zl,(0,l.eW)(" "+(0,r.v_)(o.value.setting.max_build),1)])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),"setting"===o.value.status?((0,l.uX)(),(0,l.Wv)(f,{key:1,dense:""},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(p,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:o.value.setting.rule,"onUpdate:modelValue":t[0]||(t[0]=e=>o.value.setting.rule=e),items:["normal"],label:"ルール"},null,8,["modelValue"]),(0,l.bF)(v,{modelValue:o.value.setting.player_order,"onUpdate:modelValue":t[1]||(t[1]=e=>o.value.setting.player_order=e),items:["fix"],label:"プレイヤー順"},null,8,["modelValue"]),(0,l.bF)(v,{modelValue:o.value.setting.initial_area,"onUpdate:modelValue":t[2]||(t[2]=e=>o.value.setting.initial_area=e),items:["normal"],label:"初期エリア"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.player_number,"onUpdate:modelValue":t[3]||(t[3]=e=>o.value.setting.player_number=e),label:"プレイヤー数",type:"number",min:"2",max:"2"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.team_number,"onUpdate:modelValue":t[4]||(t[4]=e=>o.value.setting.team_number=e),label:"チーム数",type:"number",min:"2",max:"2"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.max_turn,"onUpdate:modelValue":t[5]||(t[5]=e=>o.value.setting.max_turn=e),label:"最大ターン数",type:"number",min:"1",max:"100"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.field_size,"onUpdate:modelValue":t[6]||(t[6]=e=>o.value.setting.field_size=e),label:"フィールドサイズ",type:"number",min:"7",max:"20"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.max_cost,"onUpdate:modelValue":t[7]||(t[7]=e=>o.value.setting.max_cost=e),label:"最大コスト",type:"number",min:"3",max:"1000"},null,8,["modelValue"]),(0,l.bF)(m,{modelValue:o.value.setting.max_build,"onUpdate:modelValue":t[8]||(t[8]=e=>o.value.setting.max_build=e),label:"最大ビルド数",type:"number",min:"1",max:"10"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),"setting"===o.value.status?((0,l.uX)(),(0,l.Wv)(s,{key:2,id:"menu-viewer",class:"d-flex justify-center",cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onClick:n,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲーム情報の取得")])),_:1})])),_:1}),(0,l.bF)(a,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onClick:i,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲーム設定の更新")])),_:1})])),_:1}),(0,l.bF)(a,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onClick:u,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲーム設定に同意")])),_:1})])),_:1}),(0,l.bF)(a,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{onClick:c,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("ゲームから退出")])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0)])}}};const Hl=Dl;var ql=Hl;const Jl=(0,l.Lk)("h3",null,"ゲーム結果",-1);var Zl={__name:"GameResults",props:{winner:String},setup(e){const t=e;return(e,a)=>{const o=(0,l.g2)("v-list-item-title"),s=(0,l.g2)("v-list-item-content"),n=(0,l.g2)("v-list-item");return(0,l.uX)(),(0,l.CE)("div",null,[Jl,(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,null,{default:(0,l.k6)((()=>[(0,l.eW)("勝者: "+(0,r.v_)(t.winner),1)])),_:1})])),_:1})])),_:1})])}}};const Yl=Zl;var eo=Yl;const to={key:0,class:"unit-container"},ao={key:1,class:"unit-container"},lo={class:"mx-2"},oo={class:"mx-2"},ro={class:"mx-2"},so={class:"mx-2"};var no={__name:"TacticsField",emits:["action","fetchParts"],setup(e,{emit:t}){const a=t,o=(0,g.Pj)(),s=(0,l.EW)((()=>o.getters["buildersTacticsStore/field"])),n=(0,l.EW)((()=>o.getters["buildersTacticsStore/gameInfo"])),i=(0,l.EW)((()=>o.getters["buildersTacticsStore/builds"])),u=(0,l.EW)((()=>o.getters["buildersTacticsStore/units"])),c=(0,l.EW)((()=>o.getters["buildersTacticsStore/parts"])),d=(0,l.EW)((()=>o.getters["buildersTacticsStore/teamInfo"])),v=(0,l.EW)((()=>o.getters["buildersTacticsStore/selectedBuild"])),m=(0,l.EW)((()=>o.getters["buildersTacticsStore/selectedUnit"])),p=(0,l.EW)((()=>o.getters["authStore/getName"])),h=(0,f.KR)(0),b=(0,f.KR)(null),k=(0,f.KR)(null),_=(0,f.KR)(!1),y="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><rect width="100" height="100" fill="lightblue"/></svg>'),F=(e,t)=>{const l=JSON.parse(JSON.stringify(s.value));if("in_game"===n.value.status){const r=n.value.teams.flat().find((e=>e.player_id===p.value));if("initialize"===n.value.phase&&"agree"===r.agreement)l[e][t].initial_area==p.value&&v.value?(l[e][t].unit=v.value.build_id,o.dispatch("buildersTacticsStore/setField",l)):(l[e][t].unit=null,o.dispatch("buildersTacticsStore/setField",l));else if("initialize"!==n.value.phase&&n.value.phase_player==p.value)if(null==m.value||null==k.value){if(null!=l[e][t].unit){o.dispatch("buildersTacticsStore/setSelectedUnit",l[e][t].unit);const r=u.value.find((e=>e.unit_id===m.value)),s=i.value.find((e=>e.build_id===r.build_id));o.dispatch("buildersTacticsStore/setSelectedBuild",s),a("fetchParts"),"move"!==n.value.phase&&r.can_attack?L(c):"move"===n.value.phase&&r.can_attack&&r.can_move&&(k.value=c.value.find((e=>"legs"===e.part_type)).part_id)}}else m.value==l[e][t].unit?(o.dispatch("buildersTacticsStore/setSelectedUnit",null),k.value=null):(E(e,t)&&(b.value={row:e,col:t},a("action",{phase:n.value.phase,actionUnit:m.value,target_cell:b.value,part_id:k.value}),b.value=null),o.dispatch("buildersTacticsStore/setSelectedUnit",null),k.value=null)}},W=e=>{const t=u.value.find((t=>t.unit_id===e));if(t){const e=i.value.find((e=>e.build_id===t.build_id));return"HP:"+t.hp+"\nCost:"+e.total_cost+"\nPower:"+e.total_power}if(null!=e){const t=i.value.find((t=>t.build_id===e));return t?"HP:"+t.max_hp+"\nCost:"+t.total_cost+"\nPower:"+t.total_power:"No your unit"}return"No your unit"},w=e=>{const t=u.value.find((t=>t.unit_id===e));if(t){if(t.is_exist){const e=i.value.find((e=>e.build_id===t.build_id));return e?e.build_image_url:""}return""}{const t=i.value.find((t=>t.build_id===e));return t?t.build_image_url:""}},x=e=>{var t=e;const a=u.value.find((t=>t.unit_id===e));if(a&&(t=a.owner_player,!a.is_exist))return"transparent";for(let l=0;l<n.value.teams.length;l++){const e=n.value.teams[l];if(e.some((e=>e.player_id===t)))return d.value.colors[l]}return"transparent"},P=e=>{var t=e;const a=u.value.find((t=>t.unit_id===e));if(a&&(t=a.owner_player,!a.is_exist))return"";for(let l=0;l<n.value.teams.length;l++){const e=n.value.teams[l];if(e.some((e=>e.player_id===t)))return d.value.icons[l]}return""},C=e=>{const t=u.value.find((t=>t.unit_id===e));return t?!!t.is_exist&&t.can_attack:"initialize"==n.value.phase},M=e=>{const t=u.value.find((t=>t.unit_id===e));return t?!!t.is_exist&&t.can_move:"initialize"==n.value.phase},E=(e,t)=>{if(null!=m.value&&null!=k.value&&n.value.phase_player==p.value){var a=-1,l=-1;for(let e=0;e<s.value.length;e++)for(let t=0;t<s.value[e].length;t++)s.value[e][t].unit===m.value&&(a=e,l=t);const o=c.value.find((e=>e.part_id==k.value));if(-1==a||-1==l)return!1;if("legs"==o.part_type&&"move"==n.value.phase||"weapon"==o.part_type&&"move"!=n.value.phase){const r=Math.abs(e-a)+Math.abs(t-l),s="move"==n.value.phase?o.move_area:o.attack_area;return r<=s}return!1}return!1},S=(0,l.EW)((()=>{const e=s.value.length,t=s.value[0].length;return{display:"grid",gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${e}, 1fr)`,gap:"2px"}})),I=(0,l.EW)((()=>({fontSize:`${h.value}px`}))),X=()=>{const e=s.value[0].length,t=document.querySelector(".grid-container").offsetWidth,a=t/e;h.value=.4*a},A=()=>{_.value=!1},L=()=>{_.value=!0},T=e=>{k.value=e.part_id,_.value=!1},B=()=>{const e=c.value.filter((e=>"weapon"===e.part_type));return e};return(0,l.sV)((()=>{X(),window.addEventListener("resize",X)})),(0,l.hi)((()=>{window.removeEventListener("resize",X)})),(e,t)=>{const a=(0,l.g2)("v-icon"),o=(0,l.g2)("v-img"),i=(0,l.g2)("v-card-title"),u=(0,l.g2)("v-card"),c=(0,l.g2)("v-tooltip"),d=(0,l.g2)("v-card-text"),v=(0,l.g2)("v-list-item-content"),m=(0,l.g2)("v-list-item"),p=(0,l.g2)("v-list"),g=(0,l.g2)("v-btn"),f=(0,l.g2)("v-card-actions"),h=(0,l.g2)("v-dialog"),b=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(b,{fluid:""},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"grid-container",style:(0,r.Tr)(S.value)},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:"grid-row"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,s)=>((0,l.uX)(),(0,l.CE)("div",{key:s,class:"grid-cell"},[(0,l.bF)(c,{bottom:"","open-on-focus":!1,"open-on-hover":!0,"open-on-click":!0},{activator:(0,l.k6)((({props:c})=>[(0,l.bF)(u,(0,l.v6)(c,{class:{"pa-2":!0,"square-card":!0},onClick:e=>F(t,s),style:{borderColor:x(e.unit),borderWidth:"2px",borderStyle:"solid"}}),{default:(0,l.k6)((()=>[(0,l.bF)(i,null,{default:(0,l.k6)((()=>[e.unit?((0,l.uX)(),(0,l.CE)("div",to,[(0,l.bF)(o,{src:w(e.unit),alt:"unit image",class:(0,r.C4)({"unit-image":!0})},{default:(0,l.k6)((()=>[(0,l.bF)(a,{color:x(e.unit),style:(0,r.Tr)(I.value),class:"team-icon-overlay"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(P(e.unit)),1)])),_:2},1032,["color","style"]),C(e.unit)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(a,{key:0,color:x(e.unit),style:(0,r.Tr)(I.value),class:"attacked-icon-overlay"},{default:(0,l.k6)((()=>[(0,l.eW)(" mdi-sword-cross ")])),_:2},1032,["color","style"])),M(e.unit)?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(a,{key:1,color:x(e.unit),style:(0,r.Tr)(I.value),class:"moved-icon-overlay"},{default:(0,l.k6)((()=>[(0,l.eW)(" mdi-shoe-print ")])),_:2},1032,["color","style"]))])),_:2},1032,["src"])])):(0,l.Q3)("",!0),e.initial_area&&!e.unit&&"initialize"==n.value.phase?((0,l.uX)(),(0,l.CE)("div",ao,[(0,l.bF)(a,{color:x(e.initial_area),style:(0,r.Tr)(I.value),class:"team-icon-overlay"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(P(e.initial_area)),1)])),_:2},1032,["color","style"])])):(0,l.Q3)("",!0)])),_:2},1024),E(t,s)?((0,l.uX)(),(0,l.Wv)(o,{key:0,src:y,class:"overlay"})):(0,l.Q3)("",!0)])),_:2},1040,["onClick","style"])])),default:(0,l.k6)((()=>[(0,l.Lk)("span",null,(0,r.v_)(W(e.unit)),1)])),_:2},1024)])))),128))])))),128))],4),(0,l.bF)(h,{modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=e=>_.value=e),persistent:"","max-width":"600px"},{default:(0,l.k6)((()=>[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,null,{default:(0,l.k6)((()=>[(0,l.eW)("攻撃パーツを選択")])),_:1}),(0,l.bF)(p,null,{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(B(),(e=>((0,l.uX)(),(0,l.Wv)(m,{key:e.part_id,onClick:t=>T(e)},{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.Lk)("strong",lo,(0,r.v_)(e.parts_name),1),(0,l.bF)(a,{left:"",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-sword")])),_:1}),(0,l.Lk)("span",oo,(0,r.v_)(e.full_attack),1),(0,l.bF)(a,{left:"",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-shield")])),_:1}),(0,l.Lk)("span",ro,(0,r.v_)(e.defense),1),(0,l.bF)(a,{left:"",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("mdi-flash")])),_:1}),(0,l.Lk)("span",so,(0,r.v_)(e.blitz),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),(0,l.bF)(f,null,{default:(0,l.k6)((()=>[(0,l.bF)(g,{color:"blue darken-1",text:"",onClick:A},{default:(0,l.k6)((()=>[(0,l.eW)("キャンセル")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}}};const io=(0,C.A)(no,[["__scopeId","data-v-2a316e1f"]]);var uo=io;const co={key:0},vo={key:1},mo={key:2};var po={__name:"InGame",emits:["completePlacement","nextPhase","fetchGameInfo","surrender","unitAction","fetchParts"],setup(e,{emit:t}){const a=(0,g.Pj)(),o=(0,l.EW)((()=>a.getters["buildersTacticsStore/gameInfo"])),s=(0,l.EW)((()=>a.getters["authStore/getName"])),n=(0,l.EW)((()=>a.getters["buildersTacticsStore/builds"])),i=(0,l.EW)((()=>u.value>o.value.setting.max_build)),u=(0,l.EW)((()=>{let e=[];return o.value.field.forEach((t=>{t.forEach((t=>{const a=n.value.find((e=>e.build_id===t.unit));a&&(e.includes(a.build_id)||e.push(a.build_id))}))})),e.length})),c=(0,l.EW)((()=>d.value>o.value.setting.max_cost)),d=(0,l.EW)((()=>{let e=0;return o.value.field.forEach((t=>{t.forEach((t=>{const a=n.value.find((e=>e.build_id===t.unit));a&&(e+=a.total_cost)}))})),e})),v=t,m=()=>{c.value||i.value||v("completePlacement")},p=()=>{v("nextPhase")},f=()=>{v("fetchGameInfo")},h=()=>{v("surrender")},b=e=>{v("unitAction",e)},k=()=>{v("fetchParts")},_=()=>{const e=o.value.teams.flat().find((e=>e.player_id===s.value));return e?.agreement};return(e,t)=>{const a=(0,l.g2)("v-list-item-title"),n=(0,l.g2)("v-list-item-subtitle"),v=(0,l.g2)("v-list-item-content"),g=(0,l.g2)("v-list-item"),y=(0,l.g2)("v-divider"),F=(0,l.g2)("v-btn"),W=(0,l.g2)("v-col"),w=(0,l.g2)("v-tooltip"),x=(0,l.g2)("v-text"),P=(0,l.g2)("v-row");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,null,{default:(0,l.k6)((()=>[(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)("ターン: "+(0,r.v_)(o.value.turn),1)])),_:1}),(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)("ターンプレイヤー: "+(0,r.v_)(o.value.turn_player),1)])),_:1}),(0,l.bF)(a,null,{default:(0,l.k6)((()=>[(0,l.eW)("フェイズ: "+(0,r.v_)(o.value.phase),1)])),_:1}),(0,l.bF)(n,null,{default:(0,l.k6)((()=>[(0,l.eW)("フェイズプレイヤー: "+(0,r.v_)(o.value.phase_player),1)])),_:1})])),_:1})])),_:1}),(0,l.bF)(y,{class:"my-4"}),(0,l.bF)(P,{id:"menu-viewer",class:"d-flex justify-center",cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(W,{cols:"12",md:"4",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(F,{onClick:f,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("フィールド更新")])),_:1})])),_:1}),(0,l.bF)(W,{cols:"12",md:"4",class:"d-flex justify-center"},{default:(0,l.k6)((()=>["initialize"===o.value.phase&&"agree"===_()?((0,l.uX)(),(0,l.Wv)(F,{key:0,onClick:m,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)(" ユニット配置完了 "),(0,l.bF)(w,{bottom:"",activator:"parent"},{default:(0,l.k6)((()=>[c.value||i.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("span",co,"Are you ready?")),c.value?((0,l.uX)(),(0,l.CE)("span",vo,"Cost over! ")):(0,l.Q3)("",!0),i.value?((0,l.uX)(),(0,l.CE)("span",mo,"Build number over!")):(0,l.Q3)("",!0)])),_:1})])),_:1})):(0,l.Q3)("",!0),"initialize"!==o.value.phase&&o.value.phase_player===s.value?((0,l.uX)(),(0,l.Wv)(F,{key:1,onClick:p,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("フェイズ終了")])),_:1})):(0,l.Q3)("",!0)])),_:1}),(0,l.bF)(W,{cols:"12",md:"4",class:"d-flex justify-center"},{default:(0,l.k6)((()=>["initialize"===o.value.phase&&"agree"===_()?((0,l.uX)(),(0,l.Wv)(x,{key:0},{default:(0,l.k6)((()=>[(0,l.eW)("コスト："+(0,r.v_)(d.value),1)])),_:1})):(0,l.Q3)("",!0),"initialize"===o.value.phase&&"agree"===_()?((0,l.uX)(),(0,l.Wv)(x,{key:1},{default:(0,l.k6)((()=>[(0,l.eW)("ビルド数："+(0,r.v_)(u.value),1)])),_:1})):(0,l.Q3)("",!0),"initialize"!==o.value.phase?((0,l.uX)(),(0,l.Wv)(F,{key:2,onClick:h,color:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)("降参")])),_:1})):(0,l.Q3)("",!0)])),_:1})])),_:1}),(0,l.bF)(uo,{field:o.value.field,onAction:b,onFetchParts:k},null,8,["field"]),(0,l.bF)(wl)])}}};const go=po;var fo=go,ho={__name:"TacticsViewer",props:{toGames:Function},setup(e){const t=e,a=(0,g.Pj)(),o=(0,l.EW)((()=>a.getters["buildersTacticsStore/gameInfo"])),s=(0,l.EW)((()=>a.getters["buildersTacticsStore/currentGameId"])),n=(0,l.EW)((()=>a.getters["authStore/getName"])),i=(0,l.EW)((()=>a.getters["buildersTacticsStore/builds"])),u=(0,l.EW)((()=>a.getters["buildersTacticsStore/selectedBuild"])),c=(0,f.KR)(!1),d=(0,f.KR)(""),v=(0,f.KR)(!0),m=async()=>{if(s.value&&n.value)try{const e=await ol(s.value,n.value);a.dispatch("buildersTacticsStore/setGameInfo",e),await b()}catch(e){console.error("Error fetching game info:",e)}},p=async()=>{if(s.value)try{const e=await nl(s.value,o.value.phase);a.dispatch("buildersTacticsStore/setGameInfo",e)}catch(e){console.error("Error fetching game info:",e)}},h=async()=>{try{const e=await vl();a.dispatch("buildersTacticsStore/setBuilds",e.builds)}catch(e){console.error("Error fetching builds:",e)}},b=async()=>{try{const e=await ul(s.value);a.dispatch("buildersTacticsStore/setUnits",e)}catch(e){console.error("Error fetching game info:",e)}},k=async e=>{try{const t=await rl(s.value,e);a.dispatch("buildersTacticsStore/setGameInfo",t)}catch(t){console.error("Error updating game settings:",t),d.value="ゲーム設定の更新中にエラーが発生しました。設定値が範囲外の可能性があります。もう一度お試しください。",M()}},_=async()=>{try{const e={status:o.value.status,agreement:"agree"},t=await sl(s.value,e);a.dispatch("buildersTacticsStore/setGameInfo",t)}catch(e){console.error("Error proceeding game:",e)}},y=async()=>{try{const e={status:o.value.status,agreement:"surrender"},t=await sl(s.value,e);a.dispatch("buildersTacticsStore/setGameInfo",t)}catch(e){console.error("Error proceeding game:",e)}},F=async()=>{try{await ll(s.value,n.value),t.toGames()}catch(e){console.error("Error leaving game:",e)}},W=async()=>{try{const e={field:o.value.field,agreement:"battle"},t=await il(s.value,e);console.error(t),await m()}catch(e){console.error("Error placing units:",e)}},w=async e=>{try{var t=null;t="move"==e.phase?await cl(s.value,e.actionUnit,e):await dl(s.value,e.actionUnit,e),a.dispatch("buildersTacticsStore/setGameInfo",t)}catch(l){console.error("Error action unit:",l)}await m()},x=async e=>{try{const t=await Promise.all(e.map((e=>gl(e))));a.dispatch("buildersTacticsStore/setParts",t.map((e=>e)))}catch(t){console.error("Failed to fetch parts details:",t)}},P=async()=>{const e=u.value;await x([e.head_id,e.core_id,e.leg_id,...e.option_parts])},C=()=>{"visible"===document.visibilityState&&m()},M=()=>{c.value=!0},E=()=>{c.value=!1};return(0,l.sV)((()=>{v.value=!0,m(),h(),document.addEventListener("visibilitychange",C),v.value=!1})),(0,l.hi)((()=>{document.removeEventListener("visibilitychange",C)})),(e,t)=>{const a=(0,l.g2)("v-row"),s=(0,l.g2)("v-card-title"),n=(0,l.g2)("v-divider"),u=(0,l.g2)("v-card-text"),g=(0,l.g2)("v-card"),f=(0,l.g2)("v-spacer"),h=(0,l.g2)("v-btn"),b=(0,l.g2)("v-card-actions"),x=(0,l.g2)("v-dialog"),C=(0,l.g2)("v-container");return v.value?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.Wv)(C,{key:0},{default:(0,l.k6)((()=>[o.value?((0,l.uX)(),(0,l.Wv)(g,{key:0,class:"mt-5"},{default:(0,l.k6)((()=>[(0,l.bF)(s,null,{default:(0,l.k6)((()=>[(0,l.bF)(a,{justify:"space-between"},{default:(0,l.k6)((()=>[(0,l.Lk)("span",null,"ゲームステータス: "+(0,r.v_)(o.value.status),1)])),_:1})])),_:1}),(0,l.bF)(n),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.bF)(Gl,{teams:o.value.teams},null,8,["teams"]),(0,l.bF)(n,{class:"my-4"}),(0,l.bF)(ql,{settings:o.value.setting,onFetch:m,onUpdate:k,onAgree:_,onLeave:F},null,8,["settings"]),"setting"!==o.value.status?((0,l.uX)(),(0,l.Wv)(n,{key:0,class:"my-4"})):(0,l.Q3)("",!0),"completed"===o.value.status?((0,l.uX)(),(0,l.Wv)(eo,{key:1,winner:o.value.winner},null,8,["winner"])):(0,l.Q3)("",!0),"completed"===o.value.status?((0,l.uX)(),(0,l.Wv)(n,{key:2,class:"my-4"})):(0,l.Q3)("",!0),"setting"!==o.value.status?((0,l.uX)(),(0,l.Wv)(fo,{key:3,gameInfo:o.value,builds:i.value,onCompletePlacement:W,onFetchGameInfo:m,onSurrender:y,onUnitAction:w,onFetchParts:P,onNextPhase:p},null,8,["gameInfo","builds"])):(0,l.Q3)("",!0)])),_:1})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(x,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),"max-width":"500px"},{default:(0,l.k6)((()=>[(0,l.bF)(g,null,{default:(0,l.k6)((()=>[(0,l.bF)(s,{class:"headline"},{default:(0,l.k6)((()=>[(0,l.eW)("エラー")])),_:1}),(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(d.value),1)])),_:1}),(0,l.bF)(b,null,{default:(0,l.k6)((()=>[(0,l.bF)(f),(0,l.bF)(h,{color:"primary",onClick:E},{default:(0,l.k6)((()=>[(0,l.eW)("OK")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}))}}};const bo=(0,C.A)(ho,[["__scopeId","data-v-62d2b876"]]);var ko=bo;const _o=["src"];var yo={__name:"BuildersTacticsViewer",setup(e){const t=(0,g.Pj)(),a=(0,f.KR)("menu"),o=(0,l.EW)((()=>t.getters["buildersTacticsStore/currentGameId"])),r=(0,l.EW)((()=>"builds"===a.value)),s=(0,l.EW)((()=>"games"===a.value)),n=(0,l.EW)((()=>"tactics"===a.value)),i=(0,l.EW)((()=>"build-creator"===a.value)),u=e=>{t.dispatch("commonStore/sendFeedback",e)},c=()=>{a.value="builds"},d=()=>{a.value="build-creator"},v=()=>{a.value="games"},m=()=>{a.value="tactics"};return(0,l.sV)((()=>{o.value&&m()})),(e,t)=>{const a=(0,l.g2)("v-btn"),o=(0,l.g2)("v-col"),p=(0,l.g2)("v-row"),g=(0,l.g2)("v-card"),h=(0,l.g2)("v-container");return(0,l.uX)(),(0,l.Wv)(h,{id:"builders-tactics-viewer",class:"d-flex flex-column align-center py-5"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{class:"pa-5",outlined:"","max-width":"1600px",width:"100%"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{id:"menu-viewer",class:"d-flex justify-center",cols:"12"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:c,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("Builds List")])),_:1})])),_:1}),(0,l.bF)(o,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:d,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("Create Build")])),_:1})])),_:1}),(0,l.bF)(o,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:v,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("Tactics List")])),_:1})])),_:1}),(0,l.bF)(o,{cols:"12",md:"3",class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(a,{onClick:m,color:"primary",class:"mx-2"},{default:(0,l.k6)((()=>[(0,l.eW)("Current Tactics")])),_:1})])),_:1})])),_:1}),r.value?((0,l.uX)(),(0,l.Wv)(p,{key:0,id:"builds-viewer"},{default:(0,l.k6)((()=>[(0,l.bF)(wl)])),_:1})):(0,l.Q3)("",!0),i.value?((0,l.uX)(),(0,l.Wv)(p,{key:1,id:"build-creator-viewer"},{default:(0,l.k6)((()=>[(0,l.bF)(El)])),_:1})):(0,l.Q3)("",!0),s.value?((0,l.uX)(),(0,l.Wv)(p,{key:2,id:"games-viewer"},{default:(0,l.k6)((()=>[(0,l.bF)(Xl,{toTactics:m})])),_:1})):(0,l.Q3)("",!0),n.value?((0,l.uX)(),(0,l.Wv)(p,{key:3,id:"tactics-viewer",class:"d-flex flex-column align-center"},{default:(0,l.k6)((()=>[(0,l.bF)(ko,{toGames:v})])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,{class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.Lk)("img",{src:(0,f.R1)(ie),alt:"ミープルボット",class:"mt-4",style:{width:"200px"}},null,8,_o)])),_:1}),(0,l.bF)(p,{class:"d-flex justify-center"},{default:(0,l.k6)((()=>[(0,l.bF)(Et,{onSend:u})])),_:1})])),_:1})])),_:1})}}};const Fo=(0,C.A)(yo,[["__scopeId","data-v-53e2a1f4"]]);var Wo=Fo;const wo=[{path:"/",name:"Top",component:E,components:{Main:_e}},{path:"/reversi",name:"Reversi",components:{Main:Qt}},{path:"/chess",name:"Chess",components:{Main:qa}},{path:"/buildersTactics",name:"BuildersTactics",components:{Main:Wo},beforeEnter:e=>{const t=(0,g.Pj)(),a=(0,l.EW)((()=>t.getters["authStore/getName"]));if(null===a.value)return{name:"Top"}}},{path:"/articles/:id",name:"Article",components:{Main:Se}}],xo=(0,se.aE)({history:(0,se.Bt)("/MeepleBotChallenge/"),routes:wo,scrollBehavior(e){if(e.hash)return new Promise((t=>{setTimeout((()=>{t({selector:e.hash})}),500)}))}});(0,q.bx)(xo);var Po=xo,Co=(a(5524),a(4825)),Mo=a(8954),Eo=a(3379);const So=(0,Co.$N)({components:Mo,directives:Eo,icons:{defaultSet:"mdi",aliases:{mdi:{component:"mdi"}}}});var Io=So;const Xo=(0,l.EW)((()=>re.getters["authStore/getName"])),Ao=(0,o.Ef)(E);Ao.use(q.Ay,{property:{id:"G-XKPT97SQ4C",params:{user_id:Xo.value?Xo.value:null}},useDebugger:!1}).use(re).use(Po).use(Io).mount("#app")},5732:function(e,t,a){e.exports=a.p+"img/AlphaGo.20aeabe7.webp"},96:function(e,t,a){e.exports=a.p+"img/DeepBlue.ffc6988a.webp"},5702:function(e,t,a){e.exports=a.p+"img/Dota2.29c84e5d.webp"},3120:function(e,t,a){e.exports=a.p+"img/MCTS-example.883b282f.webp"},5719:function(e,t,a){e.exports=a.p+"img/innovative-AI-research.c10ff324.webp"},4058:function(e,t,a){e.exports=a.p+"img/MeepleBotGPTCore.9d83d4ac.webp"},1789:function(e,t,a){e.exports=a.p+"img/MeepleBotStrategy.04f14948.webp"}},t={};function a(l){var o=t[l];if(void 0!==o)return o.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,l,o,r){if(!l){var s=1/0;for(c=0;c<e.length;c++){l=e[c][0],o=e[c][1],r=e[c][2];for(var n=!0,i=0;i<l.length;i++)(!1&r||s>=r)&&Object.keys(a.O).every((function(e){return a.O[e](l[i])}))?l.splice(i--,1):(n=!1,r<s&&(s=r));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[l,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/MeepleBotChallenge/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var o,r,s=l[0],n=l[1],i=l[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var c=i(a)}for(t&&t(l);u<s.length;u++)r=s[u],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(c)},l=self["webpackChunkMeepleBotChallenge"]=self["webpackChunkMeepleBotChallenge"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(9020)}));l=a.O(l)})();
//# sourceMappingURL=app.05d5c64c.js.map